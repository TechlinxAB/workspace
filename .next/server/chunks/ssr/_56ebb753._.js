module.exports=[92603,(a,b,c)=>{"use strict";function d(a,b,c){if(a){for(let d of(c&&(c=c.toLowerCase()),a))if(b===d.domain?.split(":",1)[0].toLowerCase()||c===d.defaultLocale.toLowerCase()||d.locales?.some(a=>a.toLowerCase()===c))return d}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"detectDomainLocale",{enumerable:!0,get:function(){return d}})},74993,(a,b,c)=>{"use strict";function d(a){return a.replace(/\/$/,"")||"/"}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"removeTrailingSlash",{enumerable:!0,get:function(){return d}})},71442,(a,b,c)=>{"use strict";function d(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"parsePath",{enumerable:!0,get:function(){return d}})},91150,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addPathPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(71442);function e(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:e,hash:f}=(0,d.parsePath)(a);return`${b}${c}${e}${f}`}},47074,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addPathSuffix",{enumerable:!0,get:function(){return e}});let d=a.r(71442);function e(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:e,hash:f}=(0,d.parsePath)(a);return`${c}${b}${e}${f}`}},39481,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"pathHasPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(71442);function e(a,b){if("string"!=typeof a)return!1;let{pathname:c}=(0,d.parsePath)(a);return c===b||c.startsWith(b+"/")}},7700,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"addLocale",{enumerable:!0,get:function(){return f}});let d=a.r(91150),e=a.r(39481);function f(a,b,c,f){if(!b||b===c)return a;let g=a.toLowerCase();return!f&&((0,e.pathHasPrefix)(g,"/api")||(0,e.pathHasPrefix)(g,`/${b.toLowerCase()}`))?a:(0,d.addPathPrefix)(a,`/${b}`)}},97642,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"formatNextPathnameInfo",{enumerable:!0,get:function(){return h}});let d=a.r(74993),e=a.r(91150),f=a.r(47074),g=a.r(7700);function h(a){let b=(0,g.addLocale)(a.pathname,a.locale,a.buildId?void 0:a.defaultLocale,a.ignorePrefix);return(a.buildId||!a.trailingSlash)&&(b=(0,d.removeTrailingSlash)(b)),a.buildId&&(b=(0,f.addPathSuffix)((0,e.addPathPrefix)(b,`/_next/data/${a.buildId}`),"/"===a.pathname?"index.json":".json")),b=(0,e.addPathPrefix)(b,a.basePath),!a.buildId&&a.trailingSlash?b.endsWith("/")?b:(0,f.addPathSuffix)(b,"/"):(0,d.removeTrailingSlash)(b)}},64239,(a,b,c)=>{"use strict";function d(a,b){let c;if(b?.host&&!Array.isArray(b.host))c=b.host.toString().split(":",1)[0];else{if(!a.hostname)return;c=a.hostname}return c.toLowerCase()}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getHostname",{enumerable:!0,get:function(){return d}})},3885,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"normalizeLocalePath",{enumerable:!0,get:function(){return e}});let d=new WeakMap;function e(a,b){let c;if(!b)return{pathname:a};let e=d.get(b);e||(e=b.map(a=>a.toLowerCase()),d.set(b,e));let f=a.split("/",2);if(!f[1])return{pathname:a};let g=f[1].toLowerCase(),h=e.indexOf(g);return h<0?{pathname:a}:(c=b[h],{pathname:a=a.slice(c.length+1)||"/",detectedLocale:c})}},61601,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"removePathPrefix",{enumerable:!0,get:function(){return e}});let d=a.r(39481);function e(a,b){if(!(0,d.pathHasPrefix)(a,b))return a;let c=a.slice(b.length);return c.startsWith("/")?c:`/${c}`}},94971,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"getNextPathnameInfo",{enumerable:!0,get:function(){return g}});let d=a.r(3885),e=a.r(61601),f=a.r(39481);function g(a,b){let{basePath:c,i18n:g,trailingSlash:h}=b.nextConfig??{},i={pathname:a,trailingSlash:"/"!==a?a.endsWith("/"):h};c&&(0,f.pathHasPrefix)(i.pathname,c)&&(i.pathname=(0,e.removePathPrefix)(i.pathname,c),i.basePath=c);let j=i.pathname;if(i.pathname.startsWith("/_next/data/")&&i.pathname.endsWith(".json")){let a=i.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");i.buildId=a[0],j="index"!==a[1]?`/${a.slice(1).join("/")}`:"/",!0===b.parseData&&(i.pathname=j)}if(g){let a=b.i18nProvider?b.i18nProvider.analyze(i.pathname):(0,d.normalizeLocalePath)(i.pathname,g.locales);i.locale=a.detectedLocale,i.pathname=a.pathname??i.pathname,!a.detectedLocale&&i.buildId&&(a=b.i18nProvider?b.i18nProvider.analyze(j):(0,d.normalizeLocalePath)(j,g.locales)).detectedLocale&&(i.locale=a.detectedLocale)}return i}},22670,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"NextURL",{enumerable:!0,get:function(){return k}});let d=a.r(92603),e=a.r(97642),f=a.r(64239),g=a.r(94971),h=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function i(a,b){return new URL(String(a).replace(h,"localhost"),b&&String(b).replace(h,"localhost"))}let j=Symbol("NextURLInternal");class k{constructor(a,b,c){let d,e;"object"==typeof b&&"pathname"in b||"string"==typeof b?(d=b,e=c||{}):e=c||b||{},this[j]={url:i(a,d??e.base),options:e,basePath:""},this.analyze()}analyze(){var a,b,c,e,h;let i=(0,g.getNextPathnameInfo)(this[j].url.pathname,{nextConfig:this[j].options.nextConfig,parseData:!0,i18nProvider:this[j].options.i18nProvider}),k=(0,f.getHostname)(this[j].url,this[j].options.headers);this[j].domainLocale=this[j].options.i18nProvider?this[j].options.i18nProvider.detectDomainLocale(k):(0,d.detectDomainLocale)(null==(b=this[j].options.nextConfig)||null==(a=b.i18n)?void 0:a.domains,k);let l=(null==(c=this[j].domainLocale)?void 0:c.defaultLocale)||(null==(h=this[j].options.nextConfig)||null==(e=h.i18n)?void 0:e.defaultLocale);this[j].url.pathname=i.pathname,this[j].defaultLocale=l,this[j].basePath=i.basePath??"",this[j].buildId=i.buildId,this[j].locale=i.locale??l,this[j].trailingSlash=i.trailingSlash}formatPathname(){return(0,e.formatNextPathnameInfo)({basePath:this[j].basePath,buildId:this[j].buildId,defaultLocale:this[j].options.forceLocale?void 0:this[j].defaultLocale,locale:this[j].locale,pathname:this[j].url.pathname,trailingSlash:this[j].trailingSlash})}formatSearch(){return this[j].url.search}get buildId(){return this[j].buildId}set buildId(a){this[j].buildId=a}get locale(){return this[j].locale??""}set locale(a){var b,c;if(!this[j].locale||!(null==(c=this[j].options.nextConfig)||null==(b=c.i18n)?void 0:b.locales.includes(a)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${a}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[j].locale=a}get defaultLocale(){return this[j].defaultLocale}get domainLocale(){return this[j].domainLocale}get searchParams(){return this[j].url.searchParams}get host(){return this[j].url.host}set host(a){this[j].url.host=a}get hostname(){return this[j].url.hostname}set hostname(a){this[j].url.hostname=a}get port(){return this[j].url.port}set port(a){this[j].url.port=a}get protocol(){return this[j].url.protocol}set protocol(a){this[j].url.protocol=a}get href(){let a=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${a}${b}${this.hash}`}set href(a){this[j].url=i(a),this.analyze()}get origin(){return this[j].url.origin}get pathname(){return this[j].url.pathname}set pathname(a){this[j].url.pathname=a}get hash(){return this[j].url.hash}set hash(a){this[j].url.hash=a}get search(){return this[j].url.search}set search(a){this[j].url.search=a}get password(){return this[j].url.password}set password(a){this[j].url.password=a}get username(){return this[j].url.username}set username(a){this[j].url.username=a}get basePath(){return this[j].basePath}set basePath(a){this[j].basePath=a.startsWith("/")?a:`/${a}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new k(String(this),this[j].options)}}},99870,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{ACTION_SUFFIX:function(){return o},APP_DIR_ALIAS:function(){return K},CACHE_ONE_YEAR:function(){return A},DOT_NEXT_ALIAS:function(){return I},ESLINT_DEFAULT_DIRS:function(){return ac},GSP_NO_RETURNED_VALUE:function(){return Y},GSSP_COMPONENT_MEMBER_ERROR:function(){return _},GSSP_NO_RETURNED_VALUE:function(){return Z},HTML_CONTENT_TYPE_HEADER:function(){return e},INFINITE_CACHE:function(){return B},INSTRUMENTATION_HOOK_FILENAME:function(){return G},JSON_CONTENT_TYPE_HEADER:function(){return f},MATCHED_PATH_HEADER:function(){return i},MIDDLEWARE_FILENAME:function(){return C},MIDDLEWARE_LOCATION_REGEXP:function(){return D},NEXT_BODY_SUFFIX:function(){return r},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return z},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return t},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return u},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return y},NEXT_CACHE_TAGS_HEADER:function(){return s},NEXT_CACHE_TAG_MAX_ITEMS:function(){return w},NEXT_CACHE_TAG_MAX_LENGTH:function(){return x},NEXT_DATA_SUFFIX:function(){return p},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return h},NEXT_META_SUFFIX:function(){return q},NEXT_QUERY_PARAM_PREFIX:function(){return g},NEXT_RESUME_HEADER:function(){return v},NON_STANDARD_NODE_ENV:function(){return aa},PAGES_DIR_ALIAS:function(){return H},PRERENDER_REVALIDATE_HEADER:function(){return j},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return k},PROXY_FILENAME:function(){return E},PROXY_LOCATION_REGEXP:function(){return F},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return S},ROOT_DIR_ALIAS:function(){return J},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return R},RSC_ACTION_ENCRYPTION_ALIAS:function(){return Q},RSC_ACTION_PROXY_ALIAS:function(){return N},RSC_ACTION_VALIDATE_ALIAS:function(){return M},RSC_CACHE_WRAPPER_ALIAS:function(){return O},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return P},RSC_MOD_REF_PROXY_ALIAS:function(){return L},RSC_SEGMENTS_DIR_SUFFIX:function(){return l},RSC_SEGMENT_SUFFIX:function(){return m},RSC_SUFFIX:function(){return n},SERVER_PROPS_EXPORT_ERROR:function(){return X},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return U},SERVER_PROPS_SSG_CONFLICT:function(){return V},SERVER_RUNTIME:function(){return ad},SSG_FALLBACK_EXPORT_ERROR:function(){return ab},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return T},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return W},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return d},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return $},WEBPACK_LAYERS:function(){return ag},WEBPACK_RESOURCE_QUERIES:function(){return ah},WEB_SOCKET_MAX_RECONNECTIONS:function(){return ae}});let d="text/plain",e="text/html; charset=utf-8",f="application/json; charset=utf-8",g="nxtP",h="nxtI",i="x-matched-path",j="x-prerender-revalidate",k="x-prerender-revalidate-if-generated",l=".segments",m=".segment.rsc",n=".rsc",o=".action",p=".json",q=".meta",r=".body",s="x-next-cache-tags",t="x-next-revalidated-tags",u="x-next-revalidate-tag-token",v="next-resume",w=128,x=256,y=1024,z="_N_T_",A=31536e3,B=0xfffffffe,C="middleware",D=`(?:src/)?${C}`,E="proxy",F=`(?:src/)?${E}`,G="instrumentation",H="private-next-pages",I="private-dot-next",J="private-next-root-dir",K="private-next-app-dir",L="private-next-rsc-mod-ref-proxy",M="private-next-rsc-action-validate",N="private-next-rsc-server-reference",O="private-next-rsc-cache-wrapper",P="private-next-rsc-track-dynamic-import",Q="private-next-rsc-action-encryption",R="private-next-rsc-action-client-wrapper",S="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",T="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",U="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",V="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",W="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",X="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",Y="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",Z="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",$="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",_="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",aa='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',ab="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",ac=["app","pages","components","lib","src"],ad={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},ae=12,af={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},ag={...af,GROUP:{builtinReact:[af.reactServerComponents,af.actionBrowser],serverOnly:[af.reactServerComponents,af.actionBrowser,af.instrument,af.middleware],neutralTarget:[af.apiNode,af.apiEdge],clientOnly:[af.serverSideRendering,af.appPagesBrowser],bundled:[af.reactServerComponents,af.actionBrowser,af.serverSideRendering,af.appPagesBrowser,af.shared,af.instrument,af.middleware],appPages:[af.reactServerComponents,af.serverSideRendering,af.appPagesBrowser,af.actionBrowser]}},ah={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},92273,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{fromNodeOutgoingHttpHeaders:function(){return e},normalizeNextQueryParam:function(){return i},splitCookiesString:function(){return f},toNodeOutgoingHttpHeaders:function(){return g},validateURL:function(){return h}});let d=a.r(99870);function e(a){let b=new Headers;for(let[c,d]of Object.entries(a))for(let a of Array.isArray(d)?d:[d])void 0!==a&&("number"==typeof a&&(a=a.toString()),b.append(c,a));return b}function f(a){var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}function j(){return"="!==(c=a.charAt(h))&&";"!==c&&","!==c}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&j();)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}function g(a){let b={},c=[];if(a)for(let[d,e]of a.entries())"set-cookie"===d.toLowerCase()?(c.push(...f(e)),b[d]=1===c.length?c[0]:c):b[d]=e;return b}function h(a){try{return String(new URL(String(a)))}catch(b){throw Object.defineProperty(Error(`URL is malformed "${String(a)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:b}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function i(a){for(let b of[d.NEXT_QUERY_PARAM_PREFIX,d.NEXT_INTERCEPTION_MARKER_PREFIX])if(a!==b&&a.startsWith(b))return a.substring(b.length);return null}},89753,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{PageSignatureError:function(){return d},RemovedPageError:function(){return e},RemovedUAError:function(){return f}});class d extends Error{constructor({page:a}){super(`The middleware "${a}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class e extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class f extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},63681,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{RequestCookies:function(){return d.RequestCookies},ResponseCookies:function(){return d.ResponseCookies},stringifyCookie:function(){return d.stringifyCookie}});let d=a.r(36226)},88491,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{INTERNALS:function(){return h},NextRequest:function(){return i}});let d=a.r(22670),e=a.r(92273),f=a.r(89753),g=a.r(63681),h=Symbol("internal request");class i extends Request{constructor(a,b={}){const c="string"!=typeof a&&"url"in a?a.url:String(a);(0,e.validateURL)(c),b.body&&"half"!==b.duplex&&(b.duplex="half"),a instanceof Request?super(a,b):super(c,b);const f=new d.NextURL(c,{headers:(0,e.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:b.nextConfig});this[h]={cookies:new g.RequestCookies(this.headers),nextUrl:f,url:f.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[h].cookies}get nextUrl(){return this[h].nextUrl}get page(){throw new f.RemovedPageError}get ua(){throw new f.RemovedUAError}get url(){return this[h].url}}},51409,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ReflectAdapter",{enumerable:!0,get:function(){return d}});class d{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}},51978,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"NextResponse",{enumerable:!0,get:function(){return l}});let d=a.r(63681),e=a.r(22670),f=a.r(92273),g=a.r(51409),h=a.r(63681),i=Symbol("internal response"),j=new Set([301,302,303,307,308]);function k(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class l extends Response{constructor(a,b={}){super(a,b);const c=this.headers,j=new Proxy(new h.ResponseCookies(c),{get(a,e,f){switch(e){case"delete":case"set":return(...f)=>{let g=Reflect.apply(a[e],a,f),i=new Headers(c);return g instanceof h.ResponseCookies&&c.set("x-middleware-set-cookie",g.getAll().map(a=>(0,d.stringifyCookie)(a)).join(",")),k(b,i),g};default:return g.ReflectAdapter.get(a,e,f)}}});this[i]={cookies:j,url:b.url?new e.NextURL(b.url,{headers:(0,f.toNodeOutgoingHttpHeaders)(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[i].cookies}static json(a,b){let c=Response.json(a,b);return new l(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!j.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",(0,f.validateURL)(a)),new l(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",(0,f.validateURL)(a)),k(b,c),new l(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),k(a,b),new l(null,{...a,headers:b})}}},58176,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ImageResponse",{enumerable:!0,get:function(){return d}})},6431,(a,b,c)=>{(()=>{var c={226:function(b,c){!function(d,e){"use strict";var f="",g="?",h="function",i="undefined",j="object",k="string",l="major",m="model",n="name",o="type",p="vendor",q="version",r="architecture",s="console",t="mobile",u="tablet",v="smarttv",w="wearable",x="embedded",y=350,z="Amazon",A="Apple",B="ASUS",C="BlackBerry",D="Browser",E="Chrome",F="Firefox",G="Google",H="Huawei",I="LG",J="Microsoft",K="Motorola",L="Opera",M="Samsung",N="Sharp",O="Sony",P="Xiaomi",Q="Zebra",R="Facebook",S="Chromium OS",T="Mac OS",U=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},V=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},W=function(a,b){return typeof a===k&&-1!==X(b).indexOf(X(a))},X=function(a){return a.toLowerCase()},Y=function(a){return typeof a===k?a.replace(/[^\d\.]/g,f).split(".")[0]:void 0},Z=function(a,b){if(typeof a===k)return a=a.replace(/^\s\s*/,f),typeof b===i?a:a.substring(0,y)},$=function(a,b){for(var c,d,e,f,g,i,k=0;k<b.length&&!g;){var l=b[k],m=b[k+1];for(c=d=0;c<l.length&&!g&&l[c];)if(g=l[c++].exec(a))for(e=0;e<m.length;e++)i=g[++d],typeof(f=m[e])===j&&f.length>0?2===f.length?typeof f[1]==h?this[f[0]]=f[1].call(this,i):this[f[0]]=f[1]:3===f.length?typeof f[1]!==h||f[1].exec&&f[1].test?this[f[0]]=i?i.replace(f[1],f[2]):void 0:this[f[0]]=i?f[1].call(this,i,f[2]):void 0:4===f.length&&(this[f[0]]=i?f[3].call(this,i.replace(f[1],f[2])):void 0):this[f]=i||void 0;k+=2}},_=function(a,b){for(var c in b)if(typeof b[c]===j&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(W(b[c][d],a))return c===g?void 0:c}else if(W(b[c],a))return c===g?void 0:c;return a},aa={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ab={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[q,[n,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[q,[n,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[n,q],[/opios[\/ ]+([\w\.]+)/i],[q,[n,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[q,[n,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[n,q],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[q,[n,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[q,[n,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[q,[n,"WeChat"]],[/konqueror\/([\w\.]+)/i],[q,[n,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[q,[n,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[q,[n,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[n,/(.+)/,"$1 Secure "+D],q],[/\bfocus\/([\w\.]+)/i],[q,[n,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[q,[n,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[q,[n,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[q,[n,"Dolphin"]],[/coast\/([\w\.]+)/i],[q,[n,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[q,[n,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[q,[n,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[n,"360 "+D]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[n,/(.+)/,"$1 "+D],q],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],q],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[n,q],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[n],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[n,R],q],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[n,q],[/\bgsa\/([\w\.]+) .*safari\//i],[q,[n,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[q,[n,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[q,[n,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[n,E+" WebView"],q],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[q,[n,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[n,q],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[q,[n,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[q,n],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[n,[q,_,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[n,q],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[n,"Netscape"],q],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[q,[n,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[n,q],[/(cobalt)\/([\w\.]+)/i],[n,[q,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[r,"amd64"]],[/(ia32(?=;))/i],[[r,X]],[/((?:i[346]|x)86)[;\)]/i],[[r,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[r,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[r,"armhf"]],[/windows (ce|mobile); ppc;/i],[[r,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[r,/ower/,f,X]],[/(sun4\w)[;\)]/i],[[r,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[r,X]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[p,M],[o,u]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[m,[p,M],[o,t]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[p,A],[o,t]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[p,A],[o,u]],[/(macintosh);/i],[m,[p,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[p,N],[o,t]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[p,H],[o,u]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[p,H],[o,t]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[m,/_/g," "],[p,P],[o,t]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[p,P],[o,u]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[p,"OPPO"],[o,t]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[p,"Vivo"],[o,t]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[m,[p,"Realme"],[o,t]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[p,K],[o,t]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[p,K],[o,u]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[p,I],[o,u]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[p,I],[o,t]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[p,"Lenovo"],[o,u]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[p,"Nokia"],[o,t]],[/(pixel c)\b/i],[m,[p,G],[o,u]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[p,G],[o,t]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[p,O],[o,t]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[p,O],[o,u]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[p,"OnePlus"],[o,t]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[p,z],[o,u]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[p,z],[o,t]],[/(playbook);[-\w\),; ]+(rim)/i],[m,p,[o,u]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[p,C],[o,t]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[p,B],[o,u]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[p,B],[o,t]],[/(nexus 9)/i],[m,[p,"HTC"],[o,u]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[m,/_/g," "],[o,t]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[p,"Acer"],[o,u]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[p,"Meizu"],[o,t]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,m,[o,t]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,m,[o,u]],[/(surface duo)/i],[m,[p,J],[o,u]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[p,"Fairphone"],[o,t]],[/(u304aa)/i],[m,[p,"AT&T"],[o,t]],[/\bsie-(\w*)/i],[m,[p,"Siemens"],[o,t]],[/\b(rct\w+) b/i],[m,[p,"RCA"],[o,u]],[/\b(venue[\d ]{2,7}) b/i],[m,[p,"Dell"],[o,u]],[/\b(q(?:mv|ta)\w+) b/i],[m,[p,"Verizon"],[o,u]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[p,"Barnes & Noble"],[o,u]],[/\b(tm\d{3}\w+) b/i],[m,[p,"NuVision"],[o,u]],[/\b(k88) b/i],[m,[p,"ZTE"],[o,u]],[/\b(nx\d{3}j) b/i],[m,[p,"ZTE"],[o,t]],[/\b(gen\d{3}) b.+49h/i],[m,[p,"Swiss"],[o,t]],[/\b(zur\d{3}) b/i],[m,[p,"Swiss"],[o,u]],[/\b((zeki)?tb.*\b) b/i],[m,[p,"Zeki"],[o,u]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],m,[o,u]],[/\b(ns-?\w{0,9}) b/i],[m,[p,"Insignia"],[o,u]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[p,"NextBook"],[o,u]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],m,[o,t]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],m,[o,t]],[/\b(ph-1) /i],[m,[p,"Essential"],[o,t]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[p,"Envizen"],[o,u]],[/\b(trio[-\w\. ]+) b/i],[m,[p,"MachSpeed"],[o,u]],[/\btu_(1491) b/i],[m,[p,"Rotor"],[o,u]],[/(shield[\w ]+) b/i],[m,[p,"Nvidia"],[o,u]],[/(sprint) (\w+)/i],[p,m,[o,t]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[p,J],[o,t]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[p,Q],[o,u]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[p,Q],[o,t]],[/smart-tv.+(samsung)/i],[p,[o,v]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[p,M],[o,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,I],[o,v]],[/(apple) ?tv/i],[p,[m,A+" TV"],[o,v]],[/crkey/i],[[m,E+"cast"],[p,G],[o,v]],[/droid.+aft(\w)( bui|\))/i],[m,[p,z],[o,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[p,N],[o,v]],[/(bravia[\w ]+)( bui|\))/i],[m,[p,O],[o,v]],[/(mitv-\w{5}) bui/i],[m,[p,P],[o,v]],[/Hbbtv.*(technisat) (.*);/i],[p,m,[o,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Z],[m,Z],[o,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[o,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,m,[o,s]],[/droid.+; (shield) bui/i],[m,[p,"Nvidia"],[o,s]],[/(playstation [345portablevi]+)/i],[m,[p,O],[o,s]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[p,J],[o,s]],[/((pebble))app/i],[p,m,[o,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[p,A],[o,w]],[/droid.+; (glass) \d/i],[m,[p,G],[o,w]],[/droid.+; (wt63?0{2,3})\)/i],[m,[p,Q],[o,w]],[/(quest( 2| pro)?)/i],[m,[p,R],[o,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[o,x]],[/(aeobc)\b/i],[m,[p,z],[o,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[m,[o,t]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[o,u]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[o,u]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[o,t]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[q,[n,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[q,[n,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[n,q],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[q,n]],os:[[/microsoft (windows) (vista|xp)/i],[n,q],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[n,[q,_,aa]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[n,"Windows"],[q,_,aa]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[q,/_/g,"."],[n,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[n,T],[q,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[q,n],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[n,q],[/\(bb(10);/i],[q,[n,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[q,[n,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[q,[n,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[q,[n,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[q,[n,"watchOS"]],[/crkey\/([\d\.]+)/i],[q,[n,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[n,S],q],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[n,q],[/(sunos) ?([\w\.\d]*)/i],[[n,"Solaris"],q],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[n,q]]},ac=function(a,b){if(typeof a===j&&(b=a,a=void 0),!(this instanceof ac))return new ac(a,b).getResult();var c=typeof d!==i&&d.navigator?d.navigator:void 0,e=a||(c&&c.userAgent?c.userAgent:f),g=c&&c.userAgentData?c.userAgentData:void 0,s=b?U(ab,b):ab,v=c&&c.userAgent==e;return this.getBrowser=function(){var a={};return a[n]=void 0,a[q]=void 0,$.call(a,e,s.browser),a[l]=Y(a[q]),v&&c&&c.brave&&typeof c.brave.isBrave==h&&(a[n]="Brave"),a},this.getCPU=function(){var a={};return a[r]=void 0,$.call(a,e,s.cpu),a},this.getDevice=function(){var a={};return a[p]=void 0,a[m]=void 0,a[o]=void 0,$.call(a,e,s.device),v&&!a[o]&&g&&g.mobile&&(a[o]=t),v&&"Macintosh"==a[m]&&c&&typeof c.standalone!==i&&c.maxTouchPoints&&c.maxTouchPoints>2&&(a[m]="iPad",a[o]=u),a},this.getEngine=function(){var a={};return a[n]=void 0,a[q]=void 0,$.call(a,e,s.engine),a},this.getOS=function(){var a={};return a[n]=void 0,a[q]=void 0,$.call(a,e,s.os),v&&!a[n]&&g&&"Unknown"!=g.platform&&(a[n]=g.platform.replace(/chrome os/i,S).replace(/macos/i,T)),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return e},this.setUA=function(a){return e=typeof a===k&&a.length>y?Z(a,y):a,this},this.setUA(e),this};if(ac.VERSION="1.0.35",ac.BROWSER=V([n,q,l]),ac.CPU=V([r]),ac.DEVICE=V([m,p,o,s,t,v,u,w,x]),ac.ENGINE=ac.OS=V([n,q]),typeof c!==i)"object"!==i&&b.exports&&(c=b.exports=ac),c.UAParser=ac;else if(typeof define===h&&define.amd){let b;a.r,void 0!==(b=ac)&&a.v(b)}else typeof d!==i&&(d.UAParser=ac);var ad=typeof d!==i&&(d.jQuery||d.Zepto);if(ad&&!ad.ua){var ae=new ac;ad.ua=ae.getResult(),ad.ua.get=function(){return ae.getUA()},ad.ua.set=function(a){ae.setUA(a);var b=ae.getResult();for(var c in b)ad.ua[c]=b[c]}}}(this)}},d={};function e(a){var b=d[a];if(void 0!==b)return b.exports;var f=d[a]={exports:{}},g=!0;try{c[a].call(f.exports,f,f.exports,e),g=!1}finally{g&&delete d[a]}return f.exports}e.ab="/ROOT/node_modules/next/dist/compiled/ua-parser-js/",b.exports=e(226)})()},40881,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{isBot:function(){return f},userAgent:function(){return h},userAgentFromString:function(){return g}});let d=e(a.r(6431));function e(a){return a&&a.__esModule?a:{default:a}}function f(a){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(a)}function g(a){return{...(0,d.default)(a),isBot:void 0!==a&&f(a)}}function h({headers:a}){return g(a.get("user-agent")||void 0)}},50792,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"URLPattern",{enumerable:!0,get:function(){return d}});let d="u"<typeof URLPattern?void 0:URLPattern},51455,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"after",{enumerable:!0,get:function(){return e}});let d=a.r(56704);function e(a){let b=d.workAsyncStorage.getStore();if(!b)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:c}=b;return c.after(a)}},89969,(a,b,c)=>{"use strict";function d(a,b){return Object.keys(a).forEach(function(c){"default"===c||Object.prototype.hasOwnProperty.call(b,c)||Object.defineProperty(b,c,{enumerable:!0,get:function(){return a[c]}})}),a}Object.defineProperty(c,"__esModule",{value:!0}),d(a.r(51455),c)},96556,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{DynamicServerError:function(){return e},isDynamicServerError:function(){return f}});let d="DYNAMIC_SERVER_USAGE";class e extends Error{constructor(a){super(`Dynamic server usage: ${a}`),this.description=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},60312,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{StaticGenBailoutError:function(){return e},isStaticGenBailoutError:function(){return f}});let d="NEXT_STATIC_GEN_BAILOUT";class e extends Error{constructor(...a){super(...a),this.code=d}}function f(a){return"object"==typeof a&&null!==a&&"code"in a&&a.code===d}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},13091,(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===e}Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{isHangingPromiseRejectionError:function(){return d},makeDevtoolsIOAwarePromise:function(){return j},makeHangingPromise:function(){return h}});let e="HANGING_PROMISE_REJECTION";class f extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest=e}}let g=new WeakMap;function h(a,b,c){if(a.aborted)return Promise.reject(new f(b,c));{let d=new Promise((d,e)=>{let h=e.bind(null,new f(b,c)),i=g.get(a);if(i)i.push(h);else{let b=[h];g.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return d.catch(i),d}}function i(){}function j(a,b,c){return b.stagedRendering?b.stagedRendering.delayUntilStage(c,void 0,a):new Promise(b=>{setTimeout(()=>{b(a)},0)})}},17491,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{METADATA_BOUNDARY_NAME:function(){return d},OUTLET_BOUNDARY_NAME:function(){return f},ROOT_LAYOUT_BOUNDARY_NAME:function(){return g},VIEWPORT_BOUNDARY_NAME:function(){return e}});let d="__next_metadata_boundary__",e="__next_viewport_boundary__",f="__next_outlet_boundary__",g="__next_root_layout_boundary__"},61933,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{atLeastOneTask:function(){return f},scheduleImmediate:function(){return e},scheduleOnNextTick:function(){return d},waitAtLeastOneReactRenderTask:function(){return g}});let d=a=>{Promise.resolve().then(()=>{process.nextTick(a)})},e=a=>{setImmediate(a)};function f(){return new Promise(a=>e(a))}function g(){return new Promise(a=>setImmediate(a))}},49640,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{BailoutToCSRError:function(){return e},isBailoutToCSRError:function(){return f}});let d="BAILOUT_TO_CLIENT_SIDE_RENDERING";class e extends Error{constructor(a){super(`Bail out to client-side rendering: ${a}`),this.reason=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===d}},50640,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"InvariantError",{enumerable:!0,get:function(){return d}});class d extends Error{constructor(a,b){super(`Invariant: ${a.endsWith(".")?a:a+"."} This is a bug in Next.js.`,b),this.name="InvariantError"}}},60384,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{Postpone:function(){return y},PreludeState:function(){return Z},abortAndThrowOnSynchronousRequestDataAccess:function(){return x},abortOnSynchronousPlatformIOAccess:function(){return w},accessedDynamicData:function(){return G},annotateDynamicAccess:function(){return M},consumeDynamicAccess:function(){return H},createDynamicTrackingState:function(){return p},createDynamicValidationState:function(){return q},createHangingInputAbortSignal:function(){return L},createRenderInBrowserAbortSignal:function(){return K},delayUntilRuntimeStage:function(){return ab},formatDynamicAPIAccesses:function(){return I},getFirstDynamicReason:function(){return r},getStaticShellDisallowedDynamicReasons:function(){return aa},isDynamicPostpone:function(){return B},isPrerenderInterruptedError:function(){return F},logDisallowedDynamicError:function(){return $},markCurrentScopeAsDynamic:function(){return s},postponeWithTracking:function(){return z},throwIfDisallowedDynamic:function(){return _},throwToInterruptStaticGeneration:function(){return t},trackAllowedDynamicAccess:function(){return V},trackDynamicDataInDynamicRender:function(){return u},trackDynamicHoleInRuntimeShell:function(){return W},trackDynamicHoleInStaticShell:function(){return X},useDynamicRouteParams:function(){return N},useDynamicSearchParams:function(){return O}});let d=n(a.r(717)),e=a.r(96556),f=a.r(60312),g=a.r(32319),h=a.r(56704),i=a.r(13091),j=a.r(17491),k=a.r(61933),l=a.r(49640),m=a.r(50640);function n(a){return a&&a.__esModule?a:{default:a}}let o="function"==typeof d.default.unstable_postpone;function p(a){return{isDebugDynamicAccesses:a,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function q(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,dynamicMetadata:null,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function r(a){var b;return null==(b=a.dynamicAccesses[0])?void 0:b.expression}function s(a,b,c){if(b)switch(b.type){case"cache":case"unstable-cache":case"private-cache":return}if(!a.forceDynamic&&!a.forceStatic){if(a.dynamicShouldError)throw Object.defineProperty(new f.StaticGenBailoutError(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${c}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(b)switch(b.type){case"prerender-ppr":return z(a.route,c,b.dynamicTracking);case"prerender-legacy":b.revalidate=0;let d=Object.defineProperty(new e.DynamicServerError(`Route ${a.route} couldn't be rendered statically because it used ${c}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw a.dynamicUsageDescription=c,a.dynamicUsageStack=d.stack,d}}}function t(a,b,c){let d=Object.defineProperty(new e.DynamicServerError(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function u(a){switch(a.type){case"cache":case"unstable-cache":case"private-cache":return}}function v(a,b,c){let d=E(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`);c.controller.abort(d);let e=c.dynamicTracking;e&&e.dynamicAccesses.push({stack:e.isDebugDynamicAccesses?Error().stack:void 0,expression:b})}function w(a,b,c,d){let e=d.dynamicTracking;v(a,b,d),e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}function x(a,b,c,d){if(!1===d.controller.signal.aborted){v(a,b,d);let e=d.dynamicTracking;e&&null===e.syncDynamicErrorWithStack&&(e.syncDynamicErrorWithStack=c)}throw E(`Route ${a} needs to bail out of prerendering at this point because it used ${b}.`)}function y({reason:a,route:b}){let c=g.workUnitAsyncStorage.getStore();z(b,a,c&&"prerender-ppr"===c.type?c.dynamicTracking:null)}function z(a,b,c){J(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),d.default.unstable_postpone(A(a,b))}function A(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function B(a){return"object"==typeof a&&null!==a&&"string"==typeof a.message&&C(a.message)}function C(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===C(A("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let D="NEXT_PRERENDER_INTERRUPTED";function E(a){let b=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return b.digest=D,b}function F(a){return"object"==typeof a&&null!==a&&a.digest===D&&"name"in a&&"message"in a&&a instanceof Error}function G(a){return a.length>0}function H(a,b){return a.dynamicAccesses.push(...b.dynamicAccesses),a.dynamicAccesses}function I(a){return a.filter(a=>"string"==typeof a.stack&&a.stack.length>0).map(({expression:a,stack:b})=>(b=b.split("\n").slice(4).filter(a=>!(a.includes("node_modules/next/")||a.includes(" (<anonymous>)")||a.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${a}:
${b}`))}function J(){if(!o)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}function K(){let a=new AbortController;return a.abort(Object.defineProperty(new l.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),a.signal}function L(a){switch(a.type){case"prerender":case"prerender-runtime":let b=new AbortController;if(a.cacheSignal)a.cacheSignal.inputReady().then(()=>{b.abort()});else{let c=(0,g.getRuntimeStagePromise)(a);c?c.then(()=>(0,k.scheduleOnNextTick)(()=>b.abort())):(0,k.scheduleOnNextTick)(()=>b.abort())}return b.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function M(a,b){let c=b.dynamicTracking;c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:a})}function N(a){let b=h.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b&&c)switch(c.type){case"prerender-client":case"prerender":{let e=c.fallbackRouteParams;e&&e.size>0&&d.default.use((0,i.makeHangingPromise)(c.renderSignal,b.route,a));break}case"prerender-ppr":{let d=c.fallbackRouteParams;if(d&&d.size>0)return z(b.route,a,c.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${a}\` was called during a runtime prerender. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${a}\` was called inside a cache scope. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function O(a){let b=h.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b)switch(!c&&(0,g.throwForMissingRequestStore)(a),c.type){case"prerender-client":d.default.use((0,i.makeHangingPromise)(c.renderSignal,b.route,a));break;case"prerender-legacy":case"prerender-ppr":if(b.forceStatic)return;throw Object.defineProperty(new l.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new m.InvariantError(`\`${a}\` was called from a Server Component. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new m.InvariantError(`\`${a}\` was called inside a cache scope. Next.js should be preventing ${a} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let P=/\n\s+at Suspense \(<anonymous>\)/,Q="body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6",R=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:${Q}) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${j.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),S=RegExp(`\\n\\s+at ${j.METADATA_BOUNDARY_NAME}[\\n\\s]`),T=RegExp(`\\n\\s+at ${j.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),U=RegExp(`\\n\\s+at ${j.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function V(a,b,c,d){if(!U.test(b)){if(S.test(b)){c.hasDynamicMetadata=!0;return}if(T.test(b)){c.hasDynamicViewport=!0;return}if(R.test(b)){c.hasAllowedDynamic=!0,c.hasSuspenseAboveBody=!0;return}else if(P.test(b)){c.hasAllowedDynamic=!0;return}else{if(d.syncDynamicErrorWithStack)return void c.dynamicErrors.push(d.syncDynamicErrorWithStack);let e=Y(`Route "${a.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,b);return void c.dynamicErrors.push(e)}}}function W(a,b,c,d){if(!U.test(b)){if(S.test(b)){c.dynamicMetadata=Y(`Route "${a.route}": Uncached data or \`connection()\` was accessed inside \`generateMetadata\`. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,b);return}if(T.test(b)){let d=Y(`Route "${a.route}": Uncached data or \`connection()\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,b);c.dynamicErrors.push(d);return}if(R.test(b)){c.hasAllowedDynamic=!0,c.hasSuspenseAboveBody=!0;return}else if(P.test(b)){c.hasAllowedDynamic=!0;return}else{if(d.syncDynamicErrorWithStack)return void c.dynamicErrors.push(d.syncDynamicErrorWithStack);let e=Y(`Route "${a.route}": Uncached data or \`connection()\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,b);return void c.dynamicErrors.push(e)}}}function X(a,b,c,d){if(!U.test(b)){if(S.test(b)){c.dynamicMetadata=Y(`Route "${a.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateMetadata\` or you have file-based metadata such as icons that depend on dynamic params segments. Except for this instance, the page would have been entirely prerenderable which may have been the intended behavior. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`,b);return}if(T.test(b)){let d=Y(`Route "${a.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed inside \`generateViewport\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`,b);c.dynamicErrors.push(d);return}if(R.test(b)){c.hasAllowedDynamic=!0,c.hasSuspenseAboveBody=!0;return}else if(P.test(b)){c.hasAllowedDynamic=!0;return}else{if(d.syncDynamicErrorWithStack)return void c.dynamicErrors.push(d.syncDynamicErrorWithStack);let e=Y(`Route "${a.route}": Runtime data such as \`cookies()\`, \`headers()\`, \`params\`, or \`searchParams\` was accessed outside of \`<Suspense>\`. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,b);return void c.dynamicErrors.push(e)}}}function Y(a,b){let c=null,d=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d.stack=d.name+": "+a+(c||b),d}var Z=function(a){return a[a.Full=0]="Full",a[a.Empty=1]="Empty",a[a.Errored=2]="Errored",a}({});function $(a,b){console.error(b),a.dev||(a.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${a.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function _(a,b,c,d){if(d.syncDynamicErrorWithStack)throw $(a,d.syncDynamicErrorWithStack),new f.StaticGenBailoutError;if(0!==b){if(c.hasSuspenseAboveBody)return;let d=c.dynamicErrors;if(d.length>0){for(let b=0;b<d.length;b++)$(a,d[b]);throw new f.StaticGenBailoutError}if(c.hasDynamicViewport)throw console.error(`Route "${a.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new f.StaticGenBailoutError;if(1===b)throw console.error(`Route "${a.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new f.StaticGenBailoutError}else if(!1===c.hasAllowedDynamic&&c.hasDynamicMetadata)throw console.error(`Route "${a.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new f.StaticGenBailoutError}function aa(a,b,c){if(c.hasSuspenseAboveBody)return[];if(0!==b){let d=c.dynamicErrors;if(d.length>0)return d;if(1===b)return[Object.defineProperty(new m.InvariantError(`Route "${a.route}" did not produce a static shell and Next.js was unable to determine a reason.`),"__NEXT_ERROR_CODE",{value:"E936",enumerable:!1,configurable:!0})]}else if(!1===c.hasAllowedDynamic&&0===c.dynamicErrors.length&&c.dynamicMetadata)return[c.dynamicMetadata];return[]}function ab(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}},86309,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{isRequestAPICallableInsideAfter:function(){return h},throwForSearchParamsAccessInUseCache:function(){return g},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return f}});let d=a.r(60312),e=a.r(24725);function f(a,b){throw Object.defineProperty(new d.StaticGenBailoutError(`Route ${a} with \`dynamic = "error"\` couldn't be rendered statically because it used ${b}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function g(a,b){let c=Object.defineProperty(Error(`Route ${a.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(c,b),a.invalidDynamicUsageError??=c,c}function h(){let a=e.afterTaskAsyncStorage.getStore();return(null==a?void 0:a.rootTaskSpawnPhase)==="action"}},28340,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},31382,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{RenderStage:function(){return f},StagedRenderingController:function(){return g}});let d=a.r(50640),e=a.r(28340);var f=function(a){return a[a.Before=1]="Before",a[a.Static=2]="Static",a[a.Runtime=3]="Runtime",a[a.Dynamic=4]="Dynamic",a[a.Abandoned=5]="Abandoned",a}({});class g{constructor(a=null,b){this.abortSignal=a,this.hasRuntimePrefetch=b,this.currentStage=1,this.staticInterruptReason=null,this.runtimeInterruptReason=null,this.staticStageEndTime=1/0,this.runtimeStageEndTime=1/0,this.runtimeStageListeners=[],this.dynamicStageListeners=[],this.runtimeStagePromise=(0,e.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,e.createPromiseWithResolvers)(),this.mayAbandon=!1,a&&(a.addEventListener("abort",()=>{let{reason:b}=a;this.currentStage<3&&(this.runtimeStagePromise.promise.catch(h),this.runtimeStagePromise.reject(b)),(this.currentStage<4||5===this.currentStage)&&(this.dynamicStagePromise.promise.catch(h),this.dynamicStagePromise.reject(b))},{once:!0}),this.mayAbandon=!0)}onStage(a,b){if(this.currentStage>=a)b();else if(3===a)this.runtimeStageListeners.push(b);else if(4===a)this.dynamicStageListeners.push(b);else throw Object.defineProperty(new d.InvariantError(`Invalid render stage: ${a}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}canSyncInterrupt(){if(1===this.currentStage)return!1;let a=this.hasRuntimePrefetch?4:3;return this.currentStage<a}syncInterruptCurrentStageWithReason(a){if(1!==this.currentStage){if(this.mayAbandon)return this.abandonRenderImpl();switch(this.currentStage){case 2:this.staticInterruptReason=a,this.advanceStage(4);return;case 3:this.hasRuntimePrefetch&&(this.runtimeInterruptReason=a,this.advanceStage(4));return}}}getStaticInterruptReason(){return this.staticInterruptReason}getRuntimeInterruptReason(){return this.runtimeInterruptReason}getStaticStageEndTime(){return this.staticStageEndTime}getRuntimeStageEndTime(){return this.runtimeStageEndTime}abandonRender(){if(!this.mayAbandon)throw Object.defineProperty(new d.InvariantError("`abandonRender` called on a stage controller that cannot be abandoned."),"__NEXT_ERROR_CODE",{value:"E938",enumerable:!1,configurable:!0});this.abandonRenderImpl()}abandonRenderImpl(){let{currentStage:a}=this;switch(a){case 2:this.currentStage=5,this.resolveRuntimeStage();return;case 3:this.currentStage=5;return}}advanceStage(a){if(a<=this.currentStage)return;let b=this.currentStage;if(this.currentStage=a,b<3&&a>=3&&(this.staticStageEndTime=performance.now()+performance.timeOrigin,this.resolveRuntimeStage()),b<4&&a>=4){this.runtimeStageEndTime=performance.now()+performance.timeOrigin,this.resolveDynamicStage();return}}resolveRuntimeStage(){let a=this.runtimeStageListeners;for(let b=0;b<a.length;b++)a[b]();a.length=0,this.runtimeStagePromise.resolve()}resolveDynamicStage(){let a=this.dynamicStageListeners;for(let b=0;b<a.length;b++)a[b]();a.length=0,this.dynamicStagePromise.resolve()}getStagePromise(a){switch(a){case 3:return this.runtimeStagePromise.promise;case 4:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new d.InvariantError(`Invalid render stage: ${a}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(a){return this.getStagePromise(a)}delayUntilStage(a,b,c){let d=i(this.getStagePromise(a),b,c);return this.abortSignal&&d.catch(h),d}}function h(){}function i(a,b,c){let d=new Promise((b,d)=>{a.then(b.bind(null,c),d)});return void 0!==b&&(d.displayName=b),d}},29574,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"connection",{enumerable:!0,get:function(){return j}});let d=a.r(56704),e=a.r(32319),f=a.r(60384),g=a.r(60312),h=a.r(13091),i=a.r(86309);function j(){let a="connection",b=d.workAsyncStorage.getStore(),c=e.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,i.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used \`connection()\` inside \`after()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but \`after()\` executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E827",enumerable:!1,configurable:!0});if(b.forceStatic)return Promise.resolve(void 0);if(b.dynamicShouldError)throw Object.defineProperty(new g.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E847",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used \`connection()\` inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E841",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,j),b.invalidDynamicUsageError??=a,a}case"private-cache":{let a=Object.defineProperty(Error(`Route ${b.route} used \`connection()\` inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E837",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,j),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used \`connection()\` inside a function cached with \`unstable_cache()\`. The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E840",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,h.makeHangingPromise)(c.renderSignal,b.route,"`connection()`");case"prerender-ppr":return(0,f.postponeWithTracking)(b.route,"connection",c.dynamicTracking);case"prerender-legacy":return(0,f.throwToInterruptStaticGeneration)("connection",b,c);case"request":return(0,f.trackDynamicDataInDynamicRender)(c),Promise.resolve(void 0)}}(0,e.throwForMissingRequestStore)(a)}a.r(31382)},43405,(a,b,c)=>{let d={NextRequest:a.r(88491).NextRequest,NextResponse:a.r(51978).NextResponse,ImageResponse:a.r(58176).ImageResponse,userAgentFromString:a.r(40881).userAgentFromString,userAgent:a.r(40881).userAgent,URLPattern:a.r(50792).URLPattern,after:a.r(89969).after,connection:a.r(29574).connection};b.exports=d,c.NextRequest=d.NextRequest,c.NextResponse=d.NextResponse,c.ImageResponse=d.ImageResponse,c.userAgentFromString=d.userAgentFromString,c.userAgent=d.userAgent,c.URLPattern=d.URLPattern,c.after=d.after,c.connection=d.connection},4712,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{ActionDidNotRevalidate:function(){return d},ActionDidRevalidateDynamicOnly:function(){return f},ActionDidRevalidateStaticAndDynamic:function(){return e}});let d=0,e=1,f=2},14896,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{MutableRequestCookiesAdapter:function(){return m},ReadonlyRequestCookiesError:function(){return h},RequestCookiesAdapter:function(){return i},appendMutableCookies:function(){return l},areCookiesMutableInCurrentPhase:function(){return o},createCookiesWithMutableAccessCheck:function(){return n},getModifiedCookieValues:function(){return k},responseCookiesToRequestCookies:function(){return q}});let d=a.r(63681),e=a.r(51409),f=a.r(56704),g=a.r(4712);class h extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new h}}class i{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return h.callable;default:return e.ReflectAdapter.get(a,b,c)}}})}}let j=Symbol.for("next.mutated.cookies");function k(a){let b=a[j];return b&&Array.isArray(b)&&0!==b.length?b:[]}function l(a,b){let c=k(b);if(0===c.length)return!1;let e=new d.ResponseCookies(a),f=e.getAll();for(let a of c)e.set(a);for(let a of f)e.set(a);return!0}class m{static wrap(a,b){let c=new d.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let h=[],i=new Set,k=()=>{let a=f.workAsyncStorage.getStore();if(a&&(a.pathWasRevalidated=g.ActionDidRevalidateStaticAndDynamic),h=c.getAll().filter(a=>i.has(a.name)),b){let a=[];for(let b of h){let c=new d.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},l=new Proxy(c,{get(a,b,c){switch(b){case j:return h;case"delete":return function(...b){i.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),l}finally{k()}};case"set":return function(...b){i.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),l}finally{k()}};default:return e.ReflectAdapter.get(a,b,c)}}});return l}}function n(a){let b=new Proxy(a.mutableCookies,{get(c,d,f){switch(d){case"delete":return function(...d){return p(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return p(a,"cookies().set"),c.set(...d),b};default:return e.ReflectAdapter.get(c,d,f)}}});return b}function o(a){return"action"===a.phase}function p(a,b){if(!o(a))throw new h}function q(a){let b=new d.RequestCookies(new Headers);for(let c of a.getAll())b.set(c);return b}},8018,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return j}});let d=f(a.r(717));function e(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=e(b);if(c&&c.has(a))return c.get(a);var d={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(d,g,h):d[g]=a[g]}return d.default=a,c&&c.set(a,d),d}let g={current:null},h="function"==typeof d.cache?d.cache:a=>a,i=console.warn;function j(a){return function(...b){i(a(...b))}}h(a=>{try{i(g.current)}finally{g.current=null}})},81740,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"cookies",{enumerable:!0,get:function(){return n}});let d=a.r(14896),e=a.r(63681),f=a.r(56704),g=a.r(32319),h=a.r(60384),i=a.r(60312),j=a.r(13091),k=a.r(8018),l=a.r(86309),m=a.r(50640);function n(){let a="cookies",b=f.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(b.forceStatic)return r(o());if(b.dynamicShouldError)throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let e=Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,n),b.invalidDynamicUsageError??=e,e;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":return q(b,c);case"prerender-client":let f="`cookies`";throw Object.defineProperty(new m.InvariantError(`${f} must not be used within a Client Component. Next.js should be preventing ${f} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,h.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,h.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,h.delayUntilRuntimeStage)(c,r(c.cookies));case"private-cache":return r(c.cookies);case"request":return(0,h.trackDynamicDataInDynamicRender)(c),r((0,d.areCookiesMutableInCurrentPhase)(c)?c.userspaceMutableCookies:c.cookies)}}(0,g.throwForMissingRequestStore)(a)}function o(){return d.RequestCookiesAdapter.seal(new e.RequestCookies(new Headers({})))}a.r(31382);let p=new WeakMap;function q(a,b){let c=p.get(b);if(c)return c;let d=(0,j.makeHangingPromise)(b.renderSignal,a.route,"`cookies()`");return p.set(b,d),d}function r(a){let b=p.get(a);if(b)return b;let c=Promise.resolve(a);return p.set(a,c),c}function s(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})}(0,k.createDedupedByCallsiteServerErrorLoggerDev)(s)},29927,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{HeadersAdapter:function(){return f},ReadonlyHeadersError:function(){return e}});let d=a.r(51409);class e extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new e}}class f extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,e){if("symbol"==typeof c)return d.ReflectAdapter.get(b,c,e);let f=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===f);if(void 0!==g)return d.ReflectAdapter.get(b,g,e)},set(b,c,e,f){if("symbol"==typeof c)return d.ReflectAdapter.set(b,c,e,f);let g=c.toLowerCase(),h=Object.keys(a).find(a=>a.toLowerCase()===g);return d.ReflectAdapter.set(b,h??c,e,f)},has(b,c){if("symbol"==typeof c)return d.ReflectAdapter.has(b,c);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);return void 0!==f&&d.ReflectAdapter.has(b,f)},deleteProperty(b,c){if("symbol"==typeof c)return d.ReflectAdapter.deleteProperty(b,c);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);return void 0===f||d.ReflectAdapter.deleteProperty(b,f)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return e.callable;default:return d.ReflectAdapter.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new f(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}},35754,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"headers",{enumerable:!0,get:function(){return m}});let d=a.r(29927),e=a.r(56704),f=a.r(32319),g=a.r(60384),h=a.r(60312),i=a.r(13091),j=a.r(8018),k=a.r(86309),l=a.r(50640);function m(){let a="headers",b=e.workAsyncStorage.getStore(),c=f.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,k.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(b.forceStatic)return p(d.HeadersAdapter.seal(new Headers({})));if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,m),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(b.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender":return o(b,c);case"prerender-client":let e="`headers`";throw Object.defineProperty(new l.InvariantError(`${e} must not be used within a client component. Next.js should be preventing ${e} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,g.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,g.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,g.delayUntilRuntimeStage)(c,p(c.headers));case"private-cache":return p(c.headers);case"request":return(0,g.trackDynamicDataInDynamicRender)(c),p(c.headers)}}(0,f.throwForMissingRequestStore)(a)}a.r(31382);let n=new WeakMap;function o(a,b){let c=n.get(b);if(c)return c;let d=(0,i.makeHangingPromise)(b.renderSignal,a.route,"`headers()`");return n.set(b,d),d}function p(a){let b=n.get(a);if(b)return b;let c=Promise.resolve(a);return n.set(a,c),c}function q(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})}(0,j.createDedupedByCallsiteServerErrorLoggerDev)(q)},51125,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"draftMode",{enumerable:!0,get:function(){return k}});let d=a.r(32319),e=a.r(56704),f=a.r(60384),g=a.r(8018),h=a.r(60312),i=a.r(96556),j=a.r(50640);function k(){let a="draftMode",b=e.workAsyncStorage.getStore(),c=d.workUnitAsyncStorage.getStore();switch((!b||!c)&&(0,d.throwForMissingRequestStore)(a),c.type){case"prerender-runtime":return(0,f.delayUntilRuntimeStage)(c,l(c.draftMode,b));case"request":return l(c.draftMode,b);case"cache":case"private-cache":case"unstable-cache":let g=(0,d.getDraftModeProviderForCacheScope)(b,c);if(g)return l(g,b);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return l(null,b);default:return c}}function l(a,b){let c=a??m,d=n.get(c);return d||Promise.resolve(new o(a))}a.r(51409);let m={},n=new WeakMap;class o{constructor(a){this._provider=a}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){q("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){q("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function p(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})}function q(a,b){let c=e.workAsyncStorage.getStore(),g=d.workUnitAsyncStorage.getStore();if(c){if((null==g?void 0:g.phase)==="after")throw Object.defineProperty(Error(`Route ${c.route} used "${a}" inside \`after()\`. The enabled status of \`draftMode()\` can be read inside \`after()\` but you cannot enable or disable \`draftMode()\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E845",enumerable:!1,configurable:!0});if(c.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${c.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(g)switch(g.type){case"cache":case"private-cache":{let d=Object.defineProperty(Error(`Route ${c.route} used "${a}" inside "use cache". The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E829",enumerable:!1,configurable:!0});throw Error.captureStackTrace(d,b),c.invalidDynamicUsageError??=d,d}case"unstable-cache":throw Object.defineProperty(Error(`Route ${c.route} used "${a}" inside a function cached with \`unstable_cache()\`. The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E844",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let b=Object.defineProperty(Error(`Route ${c.route} used ${a} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,f.abortAndThrowOnSynchronousRequestDataAccess)(c.route,a,b,g)}case"prerender-client":let d="`draftMode`";throw Object.defineProperty(new j.InvariantError(`${d} must not be used within a Client Component. Next.js should be preventing ${d} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,f.postponeWithTracking)(c.route,a,g.dynamicTracking);case"prerender-legacy":g.revalidate=0;let e=Object.defineProperty(new i.DynamicServerError(`Route ${c.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.dynamicUsageDescription=a,c.dynamicUsageStack=e.stack,e;case"request":(0,f.trackDynamicDataInDynamicRender)(g)}}}(0,g.createDedupedByCallsiteServerErrorLoggerDev)(p)},5246,(a,b,c)=>{b.exports.cookies=a.r(81740).cookies,b.exports.headers=a.r(35754).headers,b.exports.draftMode=a.r(51125).draftMode},12267,77419,69581,88611,87987,26851,52917,a=>{"use strict";let b,c,d,e,f;var g=function(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c},h=function(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)};let i=4096,j=160,k=3936;function l(a){let b=a?"__Secure-":"";return{sessionToken:{name:`${b}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},callbackUrl:{name:`${b}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},csrfToken:{name:`${a?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},pkceCodeVerifier:{name:`${b}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},state:{name:`${b}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},nonce:{name:`${b}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},webauthnChallenge:{name:`${b}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}}}}class m{constructor(a,b,c){if(c7.add(this),c8.set(this,{}),c9.set(this,void 0),da.set(this,void 0),g(this,da,c,"f"),g(this,c9,a,"f"),!b)return;const{name:d}=a;for(const[a,c]of Object.entries(b))a.startsWith(d)&&c&&(h(this,c8,"f")[a]=c)}get value(){return Object.keys(h(this,c8,"f")).sort((a,b)=>parseInt(a.split(".").pop()||"0")-parseInt(b.split(".").pop()||"0")).map(a=>h(this,c8,"f")[a]).join("")}chunk(a,b){let c=h(this,c7,"m",dc).call(this);for(let d of h(this,c7,"m",db).call(this,{name:h(this,c9,"f").name,value:a,options:{...h(this,c9,"f").options,...b}}))c[d.name]=d;return Object.values(c)}clean(){return Object.values(h(this,c7,"m",dc).call(this))}}c8=new WeakMap,c9=new WeakMap,da=new WeakMap,c7=new WeakSet,db=function(a){let b=Math.ceil(a.value.length/k);if(1===b)return h(this,c8,"f")[a.name]=a.value,[a];let c=[];for(let d=0;d<b;d++){let b=`${a.name}.${d}`,e=a.value.substr(d*k,k);c.push({...a,name:b,value:e}),h(this,c8,"f")[b]=e}return h(this,da,"f").debug("CHUNKING_SESSION_COOKIE",{message:`Session cookie exceeds allowed ${i} bytes.`,emptyCookieSize:j,valueSize:a.value.length,chunks:c.map(a=>a.value.length+j)}),c},dc=function(){let a={};for(let b in h(this,c8,"f"))delete h(this,c8,"f")?.[b],a[b]={name:b,value:"",options:{...h(this,c9,"f").options,maxAge:0}};return a};class n extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);const c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class o extends n{}o.kind="signIn";class p extends n{}p.type="AdapterError";class q extends n{}q.type="AccessDenied";class r extends n{}r.type="CallbackRouteError";class s extends n{}s.type="ErrorPageLoop";class t extends n{}t.type="EventError";class u extends n{}u.type="InvalidCallbackUrl";class v extends o{constructor(){super(...arguments),this.code="credentials"}}v.type="CredentialsSignin";class w extends n{}w.type="InvalidEndpoints";class x extends n{}x.type="InvalidCheck";class y extends n{}y.type="JWTSessionError";class z extends n{}z.type="MissingAdapter";class A extends n{}A.type="MissingAdapterMethods";class B extends n{}B.type="MissingAuthorize";class C extends n{}C.type="MissingSecret";class D extends o{}D.type="OAuthAccountNotLinked";class E extends o{}E.type="OAuthCallbackError";class F extends n{}F.type="OAuthProfileParseError";class G extends n{}G.type="SessionTokenError";class H extends o{}H.type="OAuthSignInError";class I extends o{}I.type="EmailSignInError";class J extends n{}J.type="SignOutError";class K extends n{}K.type="UnknownAction";class L extends n{}L.type="UnsupportedStrategy";class M extends n{}M.type="InvalidProvider";class N extends n{}N.type="UntrustedHost";class O extends n{}O.type="Verification";class P extends o{}P.type="MissingCSRF";let Q=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);function R(a){return a instanceof n&&Q.has(a.type)}class S extends n{}S.type="DuplicateConditionalUI";class T extends n{}T.type="MissingWebAuthnAutocomplete";class U extends n{}U.type="WebAuthnVerificationError";class V extends o{}V.type="AccountNotLinked";class W extends n{}W.type="ExperimentalFeatureNotEnabled",a.s(["AccessDenied",()=>q,"AccountNotLinked",()=>V,"AdapterError",()=>p,"AuthError",()=>n,"CallbackRouteError",()=>r,"CredentialsSignin",()=>v,"DuplicateConditionalUI",()=>S,"ErrorPageLoop",()=>s,"EventError",()=>t,"ExperimentalFeatureNotEnabled",()=>W,"InvalidCallbackUrl",()=>u,"InvalidCheck",()=>x,"InvalidEndpoints",()=>w,"InvalidProvider",()=>M,"JWTSessionError",()=>y,"MissingAdapter",()=>z,"MissingAdapterMethods",()=>A,"MissingAuthorize",()=>B,"MissingCSRF",()=>P,"MissingSecret",()=>C,"MissingWebAuthnAutocomplete",()=>T,"OAuthAccountNotLinked",()=>D,"OAuthCallbackError",()=>E,"OAuthProfileParseError",()=>F,"SessionTokenError",()=>G,"SignOutError",()=>J,"UnknownAction",()=>K,"UnsupportedStrategy",()=>L,"UntrustedHost",()=>N,"Verification",()=>O,"WebAuthnVerificationError",()=>U,"isClientError",()=>R],77419);let X=!1;function Y(a,b){try{return/^https?:/.test(new URL(a,a.startsWith("/")?b:void 0).protocol)}catch{return!1}}function Z(a){return/^v\d+(?:\.\d+){0,2}$/.test(a)}let $=!1,_=!1,aa=!1,ab=["createVerificationToken","useVerificationToken","getUserByEmail"],ac=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],ad=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];function ae(a,b){let{url:c}=a,d=[];if(!X&&b.debug&&d.push("debug-enabled"),!b.trustHost)return new N(`Host must be trusted. URL was: ${a.url}`);if(!b.secret?.length)return new C("Please define a `secret`");let e=a.query?.callbackUrl;if(e&&!Y(e,c.origin))return new u(`Invalid callback URL. Received: ${e}`);let{callbackUrl:f}=l(b.useSecureCookies??"https:"===c.protocol),g=a.cookies?.[b.cookies?.callbackUrl?.name??f.name];if(g&&!Y(g,c.origin))return new u(`Invalid callback URL. Received: ${g}`);let h=!1;for(let a of b.providers){let b="function"==typeof a?a():a;if(("oauth"===b.type||"oidc"===b.type)&&!(b.issuer??b.options?.issuer)){let a,{authorization:c,token:d,userinfo:e}=b;if("string"==typeof c||c?.url?"string"==typeof d||d?.url?"string"==typeof e||e?.url||(a="userinfo"):a="token":a="authorization",a)return new w(`Provider "${b.id}" is missing both \`issuer\` and \`${a}\` endpoint config. At least one of them is required`)}if("credentials"===b.type)$=!0;else if("email"===b.type)_=!0;else if("webauthn"===b.type){if(aa=!0,b.simpleWebAuthnBrowserVersion&&!Z(b.simpleWebAuthnBrowserVersion))return new n(`Invalid provider config for "${b.id}": simpleWebAuthnBrowserVersion "${b.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(b.enableConditionalUI){if(h)return new S("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(h=!0,!Object.values(b.formFields).some(a=>a.autocomplete&&a.autocomplete.toString().indexOf("webauthn")>-1))return new T(`Provider "${b.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if($){let a=b.session?.strategy==="database",c=!b.providers.some(a=>"credentials"!==("function"==typeof a?a():a).type);if(a&&c)return new L("Signing in with credentials only supported if JWT strategy is enabled");if(b.providers.some(a=>{let b="function"==typeof a?a():a;return"credentials"===b.type&&!b.authorize}))return new B("Must define an authorize() handler to use credentials authentication provider")}let{adapter:i,session:j}=b,k=[];if(_||j?.strategy==="database"||!j?.strategy&&i)if(_){if(!i)return new z("Email login requires an adapter");k.push(...ab)}else{if(!i)return new z("Database session requires an adapter");k.push(...ac)}if(aa){if(!b.experimental?.enableWebAuthn)return new W("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(d.push("experimental-webauthn"),!i)return new z("WebAuthn requires an adapter");k.push(...ad)}if(i){let a=k.filter(a=>!(a in i));if(a.length)return new A(`Required adapter methods were missing: ${a.join(", ")}`)}return X||(X=!0),d}var af=a.i(54799),ag=af;let ah=(a,b,c,d,e)=>{let f=parseInt(a.substr(3),10)>>3||20,g=(0,ag.createHmac)(a,c.byteLength?c:new Uint8Array(f)).update(b).digest(),h=Math.ceil(e/f),i=new Uint8Array(f*h+d.byteLength+1),j=0,k=0;for(let b=1;b<=h;b++)i.set(d,k),i[k+d.byteLength]=b,i.set((0,ag.createHmac)(a,g).update(i.subarray(j,k+d.byteLength+1)).digest(),k),j=k,k+=f;return i.slice(0,e)};"function"!=typeof af.hkdf||process.versions.electron||(b=async(...a)=>new Promise((b,c)=>{af.hkdf(...a,(a,d)=>{a?c(a):b(new Uint8Array(d))})}));let ai=async(a,c,d,e,f)=>(b||ah)(a,c,d,e,f);function aj(a){switch(a){case"sha256":case"sha384":case"sha512":case"sha1":return a;default:throw TypeError('unsupported "digest" value')}}function ak(a,b){if("string"==typeof a)return new TextEncoder().encode(a);if(!(a instanceof Uint8Array))throw TypeError(`"${b}"" must be an instance of Uint8Array or a string`);return a}function al(a){let b=ak(a,"ikm");if(!b.byteLength)throw TypeError('"ikm" must be at least one byte in length');return b}function am(a){let b=ak(a,"info");if(b.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return b}function an(a,b){if("number"!=typeof a||!Number.isInteger(a)||a<1)throw TypeError('"keylen" must be a positive integer');if(a>255*(parseInt(b.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return a}async function ao(a,b,c,d,e){return ai(aj(a),al(b),ak(c,"salt"),am(d),an(e,a))}let ap=new TextEncoder,aq=new TextDecoder,ar=0x100000000;function as(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function at(a,b,c){if(b<0||b>=ar)throw RangeError(`value must be >= 0 and <= ${ar-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function au(a){let b=Math.floor(a/ar),c=a%ar,d=new Uint8Array(8);return at(d,b,0),at(d,c,4),d}function av(a){let b=new Uint8Array(4);return at(b,a),b}function aw(a){let b=new Uint8Array(a.length);for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);if(d>127)throw TypeError("non-ASCII string encountered in encode()");b[c]=d}return b}function ax(a){if(Uint8Array.prototype.toBase64)return a.toBase64();let b=32768,c=[];for(let d=0;d<a.length;d+=b)c.push(String.fromCharCode.apply(null,a.subarray(d,d+b)));return btoa(c.join(""))}function ay(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(a);let b=atob(a),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}function az(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof a?a:aq.decode(a),{alphabet:"base64url"});let b=a;b instanceof Uint8Array&&(b=aq.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/");try{return ay(b)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function aA(a){let b=a;return("string"==typeof b&&(b=ap.encode(b)),Uint8Array.prototype.toBase64)?b.toBase64({alphabet:"base64url",omitPadding:!0}):ax(b).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}a.s(["decode",()=>az,"encode",()=>aA],9634);let aB=Symbol();class aC extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class aD extends aC{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class aE extends aC{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class aF extends aC{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class aG extends aC{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class aH extends aC{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(a="decryption operation failed",b){super(a,b)}}class aI extends aC{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class aJ extends aC{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class aK extends aC{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class aL extends aC{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}function aM(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new aG(`Unsupported JWE Algorithm: ${a}`)}}let aN=a=>crypto.getRandomValues(new Uint8Array(aM(a)>>3));function aO(a,b){if(b.length<<3!==aM(a))throw new aI("Invalid Initialization Vector length")}function aP(a,b){let c=a.byteLength<<3;if(c!==b)throw new aI(`Invalid Content Encryption Key length. Expected ${b} bits, got ${c} bits`)}let aQ=(a,b="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`),aR=(a,b)=>a.name===b;function aS(a){return parseInt(a.name.slice(4),10)}function aT(a,b){if(b&&!a.usages.includes(b))throw TypeError(`CryptoKey does not support this operation, its usages must include ${b}.`)}function aU(a,b,c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if(!aR(a.algorithm,"AES-GCM"))throw aQ("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw aQ(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!aR(a.algorithm,"AES-KW"))throw aQ("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw aQ(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":break;default:throw aQ("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!aR(a.algorithm,"PBKDF2"))throw aQ("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!aR(a.algorithm,"RSA-OAEP"))throw aQ("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(aS(a.algorithm.hash)!==c)throw aQ(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}aT(a,c)}function aV(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}let aW=(a,...b)=>aV("Key must be ",a,...b),aX=(a,b,...c)=>aV(`Key for the ${a} algorithm must be `,b,...c);function aY(a){if(!aZ(a))throw Error("CryptoKey instance expected")}let aZ=a=>{if(a?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return a instanceof CryptoKey}catch{return!1}},a$=a=>a?.[Symbol.toStringTag]==="KeyObject",a_=a=>aZ(a)||a$(a);async function a0(a,b,c,d,e){if(!(c instanceof Uint8Array))throw TypeError(aW(c,"Uint8Array"));let f=parseInt(a.slice(1,4),10),g=await crypto.subtle.importKey("raw",c.subarray(f>>3),"AES-CBC",!1,["encrypt"]),h=await crypto.subtle.importKey("raw",c.subarray(0,f>>3),{hash:`SHA-${f<<1}`,name:"HMAC"},!1,["sign"]),i=new Uint8Array(await crypto.subtle.encrypt({iv:d,name:"AES-CBC"},g,b)),j=as(e,d,i,au(e.length<<3));return{ciphertext:i,tag:new Uint8Array((await crypto.subtle.sign("HMAC",h,j)).slice(0,f>>3)),iv:d}}async function a1(a,b,c,d,e){let f;c instanceof Uint8Array?f=await crypto.subtle.importKey("raw",c,"AES-GCM",!1,["encrypt"]):(aU(c,a,"encrypt"),f=c);let g=new Uint8Array(await crypto.subtle.encrypt({additionalData:e,iv:d,name:"AES-GCM",tagLength:128},f,b)),h=g.slice(-16);return{ciphertext:g.slice(0,-16),tag:h,iv:d}}async function a2(a,b,c,d,e){if(!aZ(c)&&!(c instanceof Uint8Array))throw TypeError(aW(c,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));switch(d?aO(a,d):d=aN(a),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return c instanceof Uint8Array&&aP(c,parseInt(a.slice(-3),10)),a0(a,b,c,d,e);case"A128GCM":case"A192GCM":case"A256GCM":return c instanceof Uint8Array&&aP(c,parseInt(a.slice(1,4),10)),a1(a,b,c,d,e);default:throw new aG("Unsupported JWE Content Encryption Algorithm")}}function a3(a,b){if(a.algorithm.length!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function a4(a,b,c){return a instanceof Uint8Array?crypto.subtle.importKey("raw",a,"AES-KW",!0,[c]):(aU(a,b,c),a)}async function a5(a,b,c){let d=await a4(b,a,"wrapKey");a3(d,a);let e=await crypto.subtle.importKey("raw",c,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",e,d,"AES-KW"))}async function a6(a,b,c){let d=await a4(b,a,"unwrapKey");a3(d,a);let e=await crypto.subtle.unwrapKey("raw",c,d,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",e))}async function a7(a,b){let c=`SHA-${a.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(c,b))}function a8(a){return as(av(a.length),a)}async function a9(a,b,c){let d=b>>3,e=32,f=Math.ceil(d/32),g=new Uint8Array(32*f);for(let b=1;b<=f;b++){let d=new Uint8Array(4+a.length+c.length);d.set(av(b),0),d.set(a,4),d.set(c,4+a.length);let f=await a7("sha256",d);g.set(f,(b-1)*e)}return g.slice(0,d)}async function ba(a,b,c,d,e=new Uint8Array,f=new Uint8Array){aU(a,"ECDH"),aU(b,"ECDH","deriveBits");let g=as(a8(aw(c)),a8(e),a8(f),av(d),new Uint8Array);return a9(new Uint8Array(await crypto.subtle.deriveBits({name:a.algorithm.name,public:a},b,bb(a))),d,g)}function bb(a){return"X25519"===a.algorithm.name?256:Math.ceil(parseInt(a.algorithm.namedCurve.slice(-3),10)/8)<<3}function bc(a){switch(a.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===a.algorithm.name}}function bd(a,b){return a instanceof Uint8Array?crypto.subtle.importKey("raw",a,"PBKDF2",!1,["deriveBits"]):(aU(a,b,"deriveBits"),a)}let be=(a,b)=>as(aw(a),Uint8Array.of(0),b);async function bf(a,b,c,d){if(!(a instanceof Uint8Array)||a.length<8)throw new aI("PBES2 Salt Input must be 8 or more octets");let e=be(b,a),f=parseInt(b.slice(13,16),10),g={hash:`SHA-${b.slice(8,11)}`,iterations:c,name:"PBKDF2",salt:e},h=await bd(d,b);return new Uint8Array(await crypto.subtle.deriveBits(g,h,f))}async function bg(a,b,c,d=2048,e=crypto.getRandomValues(new Uint8Array(16))){let f=await bf(e,a,d,b);return{encryptedKey:await a5(a.slice(-6),f,c),p2c:d,p2s:aA(e)}}async function bh(a,b,c,d,e){let f=await bf(e,a,d,b);return a6(a.slice(-6),f,c)}function bi(a,b){if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}}let bj=a=>{switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new aG(`alg ${a} is not supported either by JOSE or your javascript runtime`)}};async function bk(a,b,c){return aU(b,a,"encrypt"),bi(a,b),new Uint8Array(await crypto.subtle.encrypt(bj(a),b,c))}async function bl(a,b,c){return aU(b,a,"decrypt"),bi(a,b),new Uint8Array(await crypto.subtle.decrypt(bj(a),b,c))}let bm=a=>"object"==typeof a&&null!==a;function bn(a){if(!bm(a)||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}let bo=a=>bn(a)&&"string"==typeof a.kty,bp=a=>"oct"!==a.kty&&("AKP"===a.kty&&"string"==typeof a.priv||"string"==typeof a.d),bq=a=>"oct"!==a.kty&&void 0===a.d&&void 0===a.priv,br=a=>"oct"===a.kty&&"string"==typeof a.k;function bs(a){let b,c;switch(a.kty){case"AKP":switch(a.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":b={name:a.alg},c=a.priv?["sign"]:["verify"];break;default:throw new aG('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new aG('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new aG('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(a.alg){case"Ed25519":case"EdDSA":b={name:"Ed25519"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new aG('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new aG('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}async function bt(a){if(!a.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:b,keyUsages:c}=bs(a),d={...a};return"AKP"!==d.kty&&delete d.alg,delete d.use,crypto.subtle.importKey("jwk",d,b,a.ext??(!a.d&&!a.priv),a.key_ops??c)}let bu=async(a,b,d,e=!1)=>{let f=(c||=new WeakMap).get(a);if(f?.[d])return f[d];let g=await bt({...b,alg:d});return e&&Object.freeze(a),f?f[d]=g:c.set(a,{[d]:g}),g},bv=(a,b)=>{let d,e=(c||=new WeakMap).get(a);if(e?.[b])return e[b];let f="public"===a.type,g=!!f;if("x25519"===a.asymmetricKeyType){switch(b){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}d=a.toCryptoKey(a.asymmetricKeyType,g,f?[]:["deriveBits"])}if("ed25519"===a.asymmetricKeyType){if("EdDSA"!==b&&"Ed25519"!==b)throw TypeError("given KeyObject instance cannot be used for this algorithm");d=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}switch(a.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(b!==a.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");d=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}if("rsa"===a.asymmetricKeyType){let c;switch(b){case"RSA-OAEP":c="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":c="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":c="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":c="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(b.startsWith("RSA-OAEP"))return a.toCryptoKey({name:"RSA-OAEP",hash:c},g,f?["encrypt"]:["decrypt"]);d=a.toCryptoKey({name:b.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:c},g,[f?"verify":"sign"])}if("ec"===a.asymmetricKeyType){let c=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(a.asymmetricKeyDetails?.namedCurve);if(!c)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===b&&"P-256"===c&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:c},g,[f?"verify":"sign"])),"ES384"===b&&"P-384"===c&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:c},g,[f?"verify":"sign"])),"ES512"===b&&"P-521"===c&&(d=a.toCryptoKey({name:"ECDSA",namedCurve:c},g,[f?"verify":"sign"])),b.startsWith("ECDH-ES")&&(d=a.toCryptoKey({name:"ECDH",namedCurve:c},g,f?[]:["deriveBits"]))}if(!d)throw TypeError("given KeyObject instance cannot be used for this algorithm");return e?e[b]=d:c.set(a,{[b]:d}),d};async function bw(a,b){if(a instanceof Uint8Array||aZ(a))return a;if(a$(a)){if("secret"===a.type)return a.export();if("toCryptoKey"in a&&"function"==typeof a.toCryptoKey)try{return bv(a,b)}catch(a){if(a instanceof TypeError)throw a}let c=a.export({format:"jwk"});return bu(a,c,b)}if(bo(a))return a.k?az(a.k):bu(a,a,b,!0);throw Error("unreachable")}function bx(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new aG(`Unsupported JWE Algorithm: ${a}`)}}let by=a=>crypto.getRandomValues(new Uint8Array(bx(a)>>3));async function bz(a){if(a$(a))if("secret"!==a.type)return a.export({format:"jwk"});else a=a.export();if(a instanceof Uint8Array)return{kty:"oct",k:aA(a)};if(!aZ(a))throw TypeError(aW(a,"CryptoKey","KeyObject","Uint8Array"));if(!a.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:b,key_ops:c,alg:d,use:e,...f}=await crypto.subtle.exportKey("jwk",a);return"AKP"===f.kty&&(f.alg=d),f}async function bA(a){return bz(a)}async function bB(a,b){if(!(a instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(b instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let c={name:"HMAC",hash:"SHA-256"},d=await crypto.subtle.generateKey(c,!1,["sign"]),e=new Uint8Array(await crypto.subtle.sign(c,d,a)),f=new Uint8Array(await crypto.subtle.sign(c,d,b)),g=0,h=-1;for(;++h<32;)g|=e[h]^f[h];return 0===g}async function bC(a,b,c,d,e,f){let g,h;if(!(b instanceof Uint8Array))throw TypeError(aW(b,"Uint8Array"));let i=parseInt(a.slice(1,4),10),j=await crypto.subtle.importKey("raw",b.subarray(i>>3),"AES-CBC",!1,["decrypt"]),k=await crypto.subtle.importKey("raw",b.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),l=as(f,d,c,au(f.length<<3)),m=new Uint8Array((await crypto.subtle.sign("HMAC",k,l)).slice(0,i>>3));try{g=await bB(e,m)}catch{}if(!g)throw new aH;try{h=new Uint8Array(await crypto.subtle.decrypt({iv:d,name:"AES-CBC"},j,c))}catch{}if(!h)throw new aH;return h}async function bD(a,b,c,d,e,f){let g;b instanceof Uint8Array?g=await crypto.subtle.importKey("raw",b,"AES-GCM",!1,["decrypt"]):(aU(b,a,"decrypt"),g=b);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:f,iv:d,name:"AES-GCM",tagLength:128},g,as(c,e)))}catch{throw new aH}}async function bE(a,b,c,d,e,f){if(!aZ(b)&&!(b instanceof Uint8Array))throw TypeError(aW(b,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!d)throw new aI("JWE Initialization Vector missing");if(!e)throw new aI("JWE Authentication Tag missing");switch(aO(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return b instanceof Uint8Array&&aP(b,parseInt(a.slice(-3),10)),bC(a,b,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":return b instanceof Uint8Array&&aP(b,parseInt(a.slice(1,4),10)),bD(a,b,c,d,e,f);default:throw new aG("Unsupported JWE Content Encryption Algorithm")}}async function bF(a,b,c,d){let e=a.slice(0,7),f=await a2(e,c,b,d,new Uint8Array);return{encryptedKey:f.ciphertext,iv:aA(f.iv),tag:aA(f.tag)}}async function bG(a,b,c,d,e){return bE(a.slice(0,7),b,c,d,e,new Uint8Array)}async function bH(a,b,c,d,e={}){let f,g,h;switch(a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i;if(aY(c),!bc(c))throw new aG("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:j,apv:k}=e;i=e.epk?await bw(e.epk,a):(await crypto.subtle.generateKey(c.algorithm,!0,["deriveBits"])).privateKey;let{x:l,y:m,crv:n,kty:o}=await bA(i),p=await ba(c,i,"ECDH-ES"===a?b:a,"ECDH-ES"===a?bx(b):parseInt(a.slice(-5,-2),10),j,k);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),j&&(g.apu=aA(j)),k&&(g.apv=aA(k)),"ECDH-ES"===a){h=p;break}h=d||by(b);let q=a.slice(-6);f=await a5(q,p,h);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":h=d||by(b),aY(c),f=await bk(a,c,h);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||by(b);let{p2c:i,p2s:j}=e;({encryptedKey:f,...g}=await bg(a,c,h,i,j));break}case"A128KW":case"A192KW":case"A256KW":h=d||by(b),f=await a5(a,c,h);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||by(b);let{iv:i}=e;({encryptedKey:f,...g}=await bF(a,c,h,i));break}default:throw new aG('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}}function bI(...a){let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0}function bJ(a,b,c,d,e){let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new aG(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)}let bK=a=>a?.[Symbol.toStringTag],bL=(a,b,c)=>{if(void 0!==b.use){let a;switch(c){case"sign":case"verify":a="sig";break;case"encrypt":case"decrypt":a="enc"}if(b.use!==a)throw TypeError(`Invalid key for this operation, its "use" must be "${a}" when present`)}if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, its "alg" must be "${a}" when present`);if(Array.isArray(b.key_ops)){let d;switch(!0){case"sign"===c||"verify"===c:case"dir"===a:case a.includes("CBC-HS"):d=c;break;case a.startsWith("PBES2"):d="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(a):d=!a.includes("GCM")&&a.endsWith("KW")?"encrypt"===c?"wrapKey":"unwrapKey":c;break;case"encrypt"===c&&a.startsWith("RSA"):d="wrapKey";break;case"decrypt"===c:d=a.startsWith("RSA")?"unwrapKey":"deriveBits"}if(d&&b.key_ops?.includes?.(d)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${d}" when present`)}return!0},bM=(a,b,c)=>{if(!(b instanceof Uint8Array)){if(bo(b)){if(br(b)&&bL(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!a_(b))throw TypeError(aX(a,b,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==b.type)throw TypeError(`${bK(b)} instances for symmetric algorithms must be of type "secret"`)}},bN=(a,b,c)=>{if(bo(b))switch(c){case"decrypt":case"sign":if(bp(b)&&bL(a,b,c))return;throw TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if(bq(b)&&bL(a,b,c))return;throw TypeError("JSON Web Key for this operation must be a public JWK")}if(!a_(b))throw TypeError(aX(a,b,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===b.type)throw TypeError(`${bK(b)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===b.type)switch(c){case"sign":throw TypeError(`${bK(b)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${bK(b)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===b.type)switch(c){case"verify":throw TypeError(`${bK(b)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${bK(b)} instances for asymmetric algorithm encryption must be of type "public"`)}};function bO(a,b,c){switch(a.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":bM(a,b,c);break;default:bN(a,b,c)}}class bP{#a;#b;#c;#d;#e;#f;#g;#h;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#a=a}setKeyManagementParameters(a){if(this.#h)throw TypeError("setKeyManagementParameters can only be called once");return this.#h=a,this}setProtectedHeader(a){if(this.#b)throw TypeError("setProtectedHeader can only be called once");return this.#b=a,this}setSharedUnprotectedHeader(a){if(this.#c)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#c=a,this}setUnprotectedHeader(a){if(this.#d)throw TypeError("setUnprotectedHeader can only be called once");return this.#d=a,this}setAdditionalAuthenticatedData(a){return this.#e=a,this}setContentEncryptionKey(a){if(this.#f)throw TypeError("setContentEncryptionKey can only be called once");return this.#f=a,this}setInitializationVector(a){if(this.#g)throw TypeError("setInitializationVector can only be called once");return this.#g=a,this}async encrypt(a,b){let c,d,e,f,g,h;if(!this.#b&&!this.#d&&!this.#c)throw new aI("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!bI(this.#b,this.#d,this.#c))throw new aI("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let i={...this.#b,...this.#d,...this.#c};if(bJ(aI,new Map,b?.crit,this.#b,i),void 0!==i.zip)throw new aG('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:j,enc:k}=i;if("string"!=typeof j||!j)throw new aI('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof k||!k)throw new aI('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#f&&("dir"===j||"ECDH-ES"===j))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${j}`);bO("dir"===j?k:j,a,"encrypt");{let e,f=await bw(a,j);({cek:d,encryptedKey:c,parameters:e}=await bH(j,k,f,this.#f,this.#h)),e&&(b&&aB in b?this.#d?this.#d={...this.#d,...e}:this.setUnprotectedHeader(e):this.#b?this.#b={...this.#b,...e}:this.setProtectedHeader(e))}if(this.#b?g=aw(f=aA(JSON.stringify(this.#b))):(f="",g=new Uint8Array),this.#e){let a=aw(h=aA(this.#e));e=as(g,aw("."),a)}else e=g;let{ciphertext:l,tag:m,iv:n}=await a2(k,this.#a,d,this.#g,e),o={ciphertext:aA(l)};return n&&(o.iv=aA(n)),m&&(o.tag=aA(m)),c&&(o.encrypted_key=aA(c)),h&&(o.aad=h),this.#b&&(o.protected=f),this.#c&&(o.unprotected=this.#c),this.#d&&(o.header=this.#d),o}}class bQ{#i;constructor(a){this.#i=new bP(a)}setContentEncryptionKey(a){return this.#i.setContentEncryptionKey(a),this}setInitializationVector(a){return this.#i.setInitializationVector(a),this}setProtectedHeader(a){return this.#i.setProtectedHeader(a),this}setKeyManagementParameters(a){return this.#i.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this.#i.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}let bR=a=>Math.floor(a.getTime()/1e3),bS=60,bT=3600,bU=86400,bV=604800,bW=0x1e187e0,bX=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function bY(a){let b,c=bX.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(d*bS);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(d*bT);break;case"day":case"days":case"d":b=Math.round(d*bU);break;case"week":case"weeks":case"w":b=Math.round(d*bV);break;default:b=Math.round(d*bW)}return"-"===c[1]||"ago"===c[4]?-b:b}function bZ(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}let b$=a=>a.includes("/")?a.toLowerCase():`application/${a.toLowerCase()}`,b_=(a,b)=>"string"==typeof a?b.includes(a):!!Array.isArray(a)&&b.some(Set.prototype.has.bind(new Set(a)));function b0(a,b,c={}){let d,e;try{d=JSON.parse(aq.decode(b))}catch{}if(!bn(d))throw new aJ("JWT Claims Set must be a top-level JSON object");let{typ:f}=c;if(f&&("string"!=typeof a.typ||b$(a.typ)!==b$(f)))throw new aD('unexpected "typ" JWT header value',d,"typ","check_failed");let{requiredClaims:g=[],issuer:h,subject:i,audience:j,maxTokenAge:k}=c,l=[...g];for(let a of(void 0!==k&&l.push("iat"),void 0!==j&&l.push("aud"),void 0!==i&&l.push("sub"),void 0!==h&&l.push("iss"),new Set(l.reverse())))if(!(a in d))throw new aD(`missing required "${a}" claim`,d,a,"missing");if(h&&!(Array.isArray(h)?h:[h]).includes(d.iss))throw new aD('unexpected "iss" claim value',d,"iss","check_failed");if(i&&d.sub!==i)throw new aD('unexpected "sub" claim value',d,"sub","check_failed");if(j&&!b_(d.aud,"string"==typeof j?[j]:j))throw new aD('unexpected "aud" claim value',d,"aud","check_failed");switch(typeof c.clockTolerance){case"string":e=bY(c.clockTolerance);break;case"number":e=c.clockTolerance;break;case"undefined":e=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:m}=c,n=bR(m||new Date);if((void 0!==d.iat||k)&&"number"!=typeof d.iat)throw new aD('"iat" claim must be a number',d,"iat","invalid");if(void 0!==d.nbf){if("number"!=typeof d.nbf)throw new aD('"nbf" claim must be a number',d,"nbf","invalid");if(d.nbf>n+e)throw new aD('"nbf" claim timestamp check failed',d,"nbf","check_failed")}if(void 0!==d.exp){if("number"!=typeof d.exp)throw new aD('"exp" claim must be a number',d,"exp","invalid");if(d.exp<=n-e)throw new aE('"exp" claim timestamp check failed',d,"exp","check_failed")}if(k){let a=n-d.iat;if(a-e>("number"==typeof k?k:bY(k)))throw new aE('"iat" claim timestamp check failed (too far in the past)',d,"iat","check_failed");if(a<0-e)throw new aD('"iat" claim timestamp check failed (it should be in the past)',d,"iat","check_failed")}return d}class b1{#j;constructor(a){if(!bn(a))throw TypeError("JWT Claims Set MUST be an object");this.#j=structuredClone(a)}data(){return ap.encode(JSON.stringify(this.#j))}get iss(){return this.#j.iss}set iss(a){this.#j.iss=a}get sub(){return this.#j.sub}set sub(a){this.#j.sub=a}get aud(){return this.#j.aud}set aud(a){this.#j.aud=a}set jti(a){this.#j.jti=a}set nbf(a){"number"==typeof a?this.#j.nbf=bZ("setNotBefore",a):a instanceof Date?this.#j.nbf=bZ("setNotBefore",bR(a)):this.#j.nbf=bR(new Date)+bY(a)}set exp(a){"number"==typeof a?this.#j.exp=bZ("setExpirationTime",a):a instanceof Date?this.#j.exp=bZ("setExpirationTime",bR(a)):this.#j.exp=bR(new Date)+bY(a)}set iat(a){void 0===a?this.#j.iat=bR(new Date):a instanceof Date?this.#j.iat=bZ("setIssuedAt",bR(a)):"string"==typeof a?this.#j.iat=bZ("setIssuedAt",bR(new Date)+bY(a)):this.#j.iat=bZ("setIssuedAt",a)}}class b2{#f;#g;#h;#b;#k;#l;#m;#n;constructor(a={}){this.#n=new b1(a)}setIssuer(a){return this.#n.iss=a,this}setSubject(a){return this.#n.sub=a,this}setAudience(a){return this.#n.aud=a,this}setJti(a){return this.#n.jti=a,this}setNotBefore(a){return this.#n.nbf=a,this}setExpirationTime(a){return this.#n.exp=a,this}setIssuedAt(a){return this.#n.iat=a,this}setProtectedHeader(a){if(this.#b)throw TypeError("setProtectedHeader can only be called once");return this.#b=a,this}setKeyManagementParameters(a){if(this.#h)throw TypeError("setKeyManagementParameters can only be called once");return this.#h=a,this}setContentEncryptionKey(a){if(this.#f)throw TypeError("setContentEncryptionKey can only be called once");return this.#f=a,this}setInitializationVector(a){if(this.#g)throw TypeError("setInitializationVector can only be called once");return this.#g=a,this}replicateIssuerAsHeader(){return this.#k=!0,this}replicateSubjectAsHeader(){return this.#l=!0,this}replicateAudienceAsHeader(){return this.#m=!0,this}async encrypt(a,b){let c=new bQ(this.#n.data());return this.#b&&(this.#k||this.#l||this.#m)&&(this.#b={...this.#b,iss:this.#k?this.#n.iss:void 0,sub:this.#l?this.#n.sub:void 0,aud:this.#m?this.#n.aud:void 0}),c.setProtectedHeader(this.#b),this.#g&&c.setInitializationVector(this.#g),this.#f&&c.setContentEncryptionKey(this.#f),this.#h&&c.setKeyManagementParameters(this.#h),c.encrypt(a,b)}}var b3=a.i(9634),b3=b3;let b4=(a,b)=>{if("string"!=typeof a||!a)throw new aK(`${b} missing or invalid`)};async function b5(a,b){let c,d;if(bo(a))c=a;else if(a_(a))c=await bA(a);else throw TypeError(aW(a,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(b??="sha256")&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(c.kty){case"AKP":b4(c.alg,'"alg" (Algorithm) Parameter'),b4(c.pub,'"pub" (Public key) Parameter'),d={alg:c.alg,kty:c.kty,pub:c.pub};break;case"EC":b4(c.crv,'"crv" (Curve) Parameter'),b4(c.x,'"x" (X Coordinate) Parameter'),b4(c.y,'"y" (Y Coordinate) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x,y:c.y};break;case"OKP":b4(c.crv,'"crv" (Subtype of Key Pair) Parameter'),b4(c.x,'"x" (Public Key) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x};break;case"RSA":b4(c.e,'"e" (Exponent) Parameter'),b4(c.n,'"n" (Modulus) Parameter'),d={e:c.e,kty:c.kty,n:c.n};break;case"oct":b4(c.k,'"k" (Key Value) Parameter'),d={k:c.k,kty:c.kty};break;default:throw new aG('"kty" (Key Type) Parameter missing or unsupported')}let e=aw(JSON.stringify(d));return aA(await a7(b,e))}async function b6(a,b,c){let d;if(!bn(a))throw TypeError("JWK must be an object");switch(b??=a.alg,d??=c?.extractable??a.ext,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return az(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new aG('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return bt({...a,alg:b,ext:d});case"AKP":if("string"!=typeof a.alg||!a.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==b&&b!==a.alg)throw TypeError("JWK alg and alg option value mismatch");return bt({...a,ext:d});case"EC":case"OKP":return bt({...a,alg:b,ext:d});default:throw new aG('Unsupported "kty" (Key Type) Parameter value')}}async function b7(a,b,c,d,e){switch(a){case"dir":if(void 0!==c)throw new aI("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new aI("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e,f;if(!bn(d.epk))throw new aI('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(aY(b),!bc(b))throw new aG("ECDH with the provided key is not allowed or not supported by your javascript runtime");let g=await b6(d.epk,a);if(aY(g),void 0!==d.apu){if("string"!=typeof d.apu)throw new aI('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{e=az(d.apu)}catch{throw new aI("Failed to base64url decode the apu")}}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new aI('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=az(d.apv)}catch{throw new aI("Failed to base64url decode the apv")}}let h=await ba(g,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?bx(d.enc):parseInt(a.slice(-5,-2),10),e,f);if("ECDH-ES"===a)return h;if(void 0===c)throw new aI("JWE Encrypted Key missing");return a6(a.slice(-6),h,c)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new aI("JWE Encrypted Key missing");return aY(b),bl(a,b,c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===c)throw new aI("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new aI('JOSE Header "p2c" (PBES2 Count) missing or invalid');let g=e?.maxPBES2Count||1e4;if(d.p2c>g)throw new aI('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new aI('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=az(d.p2s)}catch{throw new aI("Failed to base64url decode the p2s")}return bh(a,b,c,d.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new aI("JWE Encrypted Key missing");return a6(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let e,f;if(void 0===c)throw new aI("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new aI('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new aI('JOSE Header "tag" (Authentication Tag) missing or invalid');try{e=az(d.iv)}catch{throw new aI("Failed to base64url decode the iv")}try{f=az(d.tag)}catch{throw new aI("Failed to base64url decode the tag")}return bG(a,b,c,e,f)}default:throw new aG('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function b8(a,b){if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)}async function b9(a,b,c){let d,e,f,g,h,i,j;if(!bn(a))throw new aI("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new aI("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new aI("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new aI("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new aI("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new aI("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new aI("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new aI("JWE AAD incorrect type");if(void 0!==a.header&&!bn(a.header))throw new aI("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!bn(a.unprotected))throw new aI("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=az(a.protected);d=JSON.parse(aq.decode(b))}catch{throw new aI("JWE Protected Header is invalid")}if(!bI(d,a.header,a.unprotected))throw new aI("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let k={...d,...a.header,...a.unprotected};if(bJ(aI,new Map,c?.crit,d,k),void 0!==k.zip)throw new aG('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:m}=k;if("string"!=typeof l||!l)throw new aI("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new aI("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&b8("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&b8("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(l)||!n&&l.startsWith("PBES2"))throw new aF('"alg" (Algorithm) Header Parameter value not allowed');if(o&&!o.has(m))throw new aF('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{e=az(a.encrypted_key)}catch{throw new aI("Failed to base64url decode the encrypted_key")}let p=!1;"function"==typeof b&&(b=await b(d,a),p=!0),bO("dir"===l?m:l,b,"decrypt");let q=await bw(b,l);try{f=await b7(l,q,e,k,c)}catch(a){if(a instanceof TypeError||a instanceof aI||a instanceof aG)throw a;f=by(m)}if(void 0!==a.iv)try{g=az(a.iv)}catch{throw new aI("Failed to base64url decode the iv")}if(void 0!==a.tag)try{h=az(a.tag)}catch{throw new aI("Failed to base64url decode the tag")}let r=void 0!==a.protected?aw(a.protected):new Uint8Array;i=void 0!==a.aad?as(r,aw("."),aw(a.aad)):r;try{j=az(a.ciphertext)}catch{throw new aI("Failed to base64url decode the ciphertext")}let s={plaintext:await bE(m,f,j,g,h,i)};if(void 0!==a.protected&&(s.protectedHeader=d),void 0!==a.aad)try{s.additionalAuthenticatedData=az(a.aad)}catch{throw new aI("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(s.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(s.unprotectedHeader=a.header),p)?{...s,key:q}:s}async function ca(a,b,c){if(a instanceof Uint8Array&&(a=aq.decode(a)),"string"!=typeof a)throw new aI("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new aI("Invalid Compact JWE");let j=await b9({ciphertext:g,iv:f||void 0,protected:d,tag:h||void 0,encrypted_key:e||void 0},b,c),k={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...k,key:j.key}:k}async function cb(a,b,c){let d=await ca(a,b,c),e=b0(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new aD('replicated "iss" claim header parameter mismatch',e,"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new aD('replicated "sub" claim header parameter mismatch',e,"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new aD('replicated "aud" claim header parameter mismatch',e,"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}let cc=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,cd=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,ce=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,cf=/^[\u0020-\u003A\u003D-\u007E]*$/,cg=Object.prototype.toString,ch=(()=>{let a=function(){};return a.prototype=Object.create(null),a})();function ci(a,b){let c=new ch,d=a.length;if(d<2)return c;let e=b?.decode||cm,f=0;do{let b=a.indexOf("=",f);if(-1===b)break;let g=a.indexOf(";",f),h=-1===g?d:g;if(b>h){f=a.lastIndexOf(";",b-1)+1;continue}let i=cj(a,f,b),j=ck(a,b,i),k=a.slice(i,j);if(void 0===c[k]){let d=cj(a,b+1,h),f=ck(a,h,d),g=e(a.slice(d,f));c[k]=g}f=h+1}while(f<d)return c}function cj(a,b,c){do{let c=a.charCodeAt(b);if(32!==c&&9!==c)return b}while(++b<c)return c}function ck(a,b,c){for(;b>c;){let c=a.charCodeAt(--b);if(32!==c&&9!==c)return b+1}return c}function cl(a,b,c){let d=c?.encode||encodeURIComponent;if(!cc.test(a))throw TypeError(`argument name is invalid: ${a}`);let e=d(b);if(!cd.test(e))throw TypeError(`argument val is invalid: ${b}`);let f=a+"="+e;if(!c)return f;if(void 0!==c.maxAge){if(!Number.isInteger(c.maxAge))throw TypeError(`option maxAge is invalid: ${c.maxAge}`);f+="; Max-Age="+c.maxAge}if(c.domain){if(!ce.test(c.domain))throw TypeError(`option domain is invalid: ${c.domain}`);f+="; Domain="+c.domain}if(c.path){if(!cf.test(c.path))throw TypeError(`option path is invalid: ${c.path}`);f+="; Path="+c.path}if(c.expires){if(!cn(c.expires)||!Number.isFinite(c.expires.valueOf()))throw TypeError(`option expires is invalid: ${c.expires}`);f+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(f+="; HttpOnly"),c.secure&&(f+="; Secure"),c.partitioned&&(f+="; Partitioned"),c.priority)switch("string"==typeof c.priority?c.priority.toLowerCase():void 0){case"low":f+="; Priority=Low";break;case"medium":f+="; Priority=Medium";break;case"high":f+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${c.priority}`)}if(c.sameSite)switch("string"==typeof c.sameSite?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"none":f+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${c.sameSite}`)}return f}function cm(a){if(-1===a.indexOf("%"))return a;try{return decodeURIComponent(a)}catch(b){return a}}function cn(a){return"[object Date]"===cg.call(a)}a.s(["parse",()=>ci,"serialize",()=>cl],63805);var co=a.i(63805);let{parse:cp}=co,cq=2592e3,cr=()=>Date.now()/1e3|0,cs="dir",ct="A256CBC-HS512";async function cu(a){let{token:b={},secret:c,maxAge:d=cq,salt:e}=a,f=Array.isArray(c)?c:[c],g=await cw(ct,f[0],e),h=await b5({kty:"oct",k:b3.encode(g)},`sha${g.byteLength<<3}`);return await new b2(b).setProtectedHeader({alg:cs,enc:ct,kid:h}).setIssuedAt().setExpirationTime(cr()+d).setJti(crypto.randomUUID()).encrypt(g)}async function cv(a){let{token:b,secret:c,salt:d}=a,e=Array.isArray(c)?c:[c];if(!b)return null;let{payload:f}=await cb(b,async({kid:a,enc:b})=>{for(let c of e){let e=await cw(b,c,d);if(void 0===a||a===await b5({kty:"oct",k:b3.encode(e)},`sha${e.byteLength<<3}`))return e}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:[cs],contentEncryptionAlgorithms:[ct,"A256GCM"]});return f}async function cw(a,b,c){let d;switch(a){case"A256CBC-HS512":d=64;break;case"A256GCM":d=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await ao("sha256",b,c,`Auth.js Generated Encryption Key (${c})`,d)}async function cx({options:a,paramValue:b,cookieValue:c}){let{url:d,callbacks:e}=a,f=d.origin;return b?f=await e.redirect({url:b,baseUrl:d.origin}):c&&(f=await e.redirect({url:c,baseUrl:d.origin})),{callbackUrl:f,callbackUrlCookie:f!==c?f:void 0}}a.s(["decode",()=>cv,"encode",()=>cu],69581);var cy=co;let cz="\x1b[31m",cA="\x1b[33m",cB="\x1b[90m",cC="\x1b[0m",cD={error(a){let b=a instanceof n?a.type:a.name;if(console.error(`${cz}[auth][error]${cC} ${b}: ${a.message}`),a.cause&&"object"==typeof a.cause&&"err"in a.cause&&a.cause.err instanceof Error){let{err:b,...c}=a.cause;console.error(`${cz}[auth][cause]${cC}:`,b.stack),c&&console.error(`${cz}[auth][details]${cC}:`,JSON.stringify(c,null,2))}else a.stack&&console.error(a.stack.replace(/.*/,"").substring(1))},warn(a){let b="https://warnings.authjs.dev";console.warn(`${cA}[auth][warn][${a}]${cC}`,`Read more: ${b}`)},debug(a,b){console.log(`${cB}[auth][debug]:${cC} ${a}`,JSON.stringify(b,null,2))}};function cE(a){let b={...cD};return a.debug||(b.debug=()=>{}),a.logger?.error&&(b.error=a.logger.error),a.logger?.warn&&(b.warn=a.logger.warn),a.logger?.debug&&(b.debug=a.logger.debug),a.logger??(a.logger=b),b}let cF=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];function cG(a){return cF.includes(a)}let{parse:cH,serialize:cI}=cy;async function cJ(a){if(!("body"in a)||!a.body||"POST"!==a.method)return;let b=a.headers.get("content-type");return b?.includes("application/json")?await a.json():b?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await a.text())):void 0}async function cK(a,b){try{if("GET"!==a.method&&"POST"!==a.method)throw new K("Only GET and POST requests are supported");b.basePath??(b.basePath="/auth");let c=new URL(a.url),{action:d,providerId:e}=cP(c.pathname,b.basePath);return{url:c,action:d,providerId:e,method:a.method,headers:Object.fromEntries(a.headers),body:a.body?await cJ(a):void 0,cookies:cH(a.headers.get("cookie")??"")??{},error:c.searchParams.get("error")??void 0,query:Object.fromEntries(c.searchParams)}}catch(d){let c=cE(b);c.error(d),c.debug("request",a)}}function cL(a){return new Request(a.url,{headers:a.headers,method:a.method,body:"POST"===a.method?JSON.stringify(a.body??{}):void 0})}function cM(a){let b=new Headers(a.headers);a.cookies?.forEach(a=>{let{name:c,value:d,options:e}=a,f=cI(c,d,e);b.has("Set-Cookie")?b.append("Set-Cookie",f):b.set("Set-Cookie",f)});let c=a.body;"application/json"===b.get("content-type")?c=JSON.stringify(a.body):"application/x-www-form-urlencoded"===b.get("content-type")&&(c=new URLSearchParams(a.body).toString());let d=new Response(c,{headers:b,status:a.redirect?302:a.status??200});return a.redirect&&d.headers.set("Location",a.redirect),d}async function cN(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>a.toString(16).padStart(2,"0")).join("").toString()}function cO(a){let b=a=>("0"+a.toString(16)).slice(-2),c=(a,c)=>a+b(c);return Array.from(crypto.getRandomValues(new Uint8Array(a))).reduce(c,"")}function cP(a,b){let c=a.match(RegExp(`^${b}(.+)`));if(null===c)throw new K(`Cannot parse action at ${a}`);let d=c.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==d.length&&2!==d.length)throw new K(`Cannot parse action at ${a}`);let[e,f]=d;if(!cG(e)||f&&!["signin","callback","webauthn-options"].includes(e))throw new K(`Cannot parse action at ${a}`);return{action:e,providerId:"undefined"==f?void 0:f}}async function cQ({options:a,cookieValue:b,isPost:c,bodyValue:d}){if(b){let[e,f]=b.split("|");if(f===await cN(`${e}${a.secret}`))return{csrfTokenVerified:c&&e===d,csrfToken:e}}let e=cO(32),f=await cN(`${e}${a.secret}`);return{cookie:`${e}|${f}`,csrfToken:e}}function cR(a,b){if(!b)throw new P(`CSRF token was missing during an action ${a}`)}function cS(a){return null!==a&&"object"==typeof a}function cT(a,...b){if(!b.length)return a;let c=b.shift();if(cS(a)&&cS(c))for(let b in c)cS(c[b])?(cS(a[b])||(a[b]=Array.isArray(c[b])?[]:{}),cT(a[b],c[b])):void 0!==c[b]&&(a[b]=c[b]);return cT(a,...b)}let cU=Symbol("skip-csrf-check"),cV=Symbol("return-type-raw"),cW=Symbol("custom-fetch"),cX=Symbol("conform-internal");function cY(a){let{providerId:b,config:c}=a,d=new URL(c.basePath??"/auth",a.url.origin),e=c.providers.map(a=>{let b="function"==typeof a?a():a,{options:e,...f}=b,g=e?.id??f.id,h=cT(f,e,{signinUrl:`${d}/signin/${g}`,callbackUrl:`${d}/callback/${g}`});if("oauth"===b.type||"oidc"===b.type){h.redirectProxyUrl??(h.redirectProxyUrl=e?.redirectProxyUrl??c.redirectProxyUrl);let a=cZ(h);return a.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete a.redirectProxyUrl,a[cW]??(a[cW]=e?.[cW]),a}return h}),f=e.find(({id:a})=>a===b);if(b&&!f){let a=e.map(a=>a.id).join(", ");throw Error(`Provider with id "${b}" not found. Available providers: [${a}].`)}return{providers:e,provider:f}}function cZ(a){a.issuer&&(a.wellKnown??(a.wellKnown=`${a.issuer}/.well-known/openid-configuration`));let b=c1(a.authorization,a.issuer);b&&!b.url?.searchParams.has("scope")&&b.url.searchParams.set("scope","openid profile email");let c=c1(a.token,a.issuer),d=c1(a.userinfo,a.issuer),e=a.checks??["pkce"];return a.redirectProxyUrl&&(e.includes("state")||e.push("state"),a.redirectProxyUrl=`${a.redirectProxyUrl}/callback/${a.id}`),{...a,authorization:b,token:c,checks:e,userinfo:d,profile:a.profile??c$,account:a.account??c_}}a.s(["conformInternal",0,cX,"customFetch",0,cW,"raw",0,cV,"skipCSRFCheck",0,cU],88611);let c$=a=>c0({id:a.sub??a.id??crypto.randomUUID(),name:a.name??a.nickname??a.preferred_username,email:a.email,image:a.picture}),c_=a=>c0({access_token:a.access_token,id_token:a.id_token,refresh_token:a.refresh_token,expires_at:a.expires_at,scope:a.scope,token_type:a.token_type,session_state:a.session_state});function c0(a){let b={};for(let[c,d]of Object.entries(a))void 0!==d&&(b[c]=d);return b}function c1(a,b){if(!a&&b)return;if("string"==typeof a)return{url:new URL(a)};let c=new URL(a?.url??"https://authjs.dev");if(a?.params!=null)for(let[b,d]of Object.entries(a.params))"claims"===b&&(d=JSON.stringify(d)),c.searchParams.set(b,String(d));return{url:c,request:a?.request,conform:a?.conform,...a?.clientPrivateKey?{clientPrivateKey:a?.clientPrivateKey}:null}}function c2(a){return"oidc"===a.type}let c3={signIn:()=>!0,redirect:({url:a,baseUrl:b})=>a.startsWith("/")?`${b}${a}`:new URL(a).origin===b?a:b,session:({session:a})=>({user:{name:a.user?.name,email:a.user?.email,image:a.user?.image},expires:a.expires?.toISOString?.()??a.expires}),jwt:({token:a})=>a};async function c4({authOptions:a,providerId:b,action:c,url:d,cookies:e,callbackUrl:f,csrfToken:g,csrfDisabled:h,isPost:i}){let j=cE(a),{providers:k,provider:m}=cY({url:d,providerId:b,config:a}),n=2592e3,o=!1;if((m?.type==="oauth"||m?.type==="oidc")&&m.redirectProxyUrl)try{o=new URL(m.redirectProxyUrl).origin===d.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${m.redirectProxyUrl}`)}let p={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...a,url:d,action:c,provider:m,cookies:cT(l(a.useSecureCookies??"https:"===d.protocol),a.cookies),providers:k,session:{strategy:a.adapter?"database":"jwt",maxAge:n,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...a.session},jwt:{secret:a.secret,maxAge:a.session?.maxAge??n,encode:cu,decode:cv,...a.jwt},events:c5(a.events??{},j),adapter:c6(a.adapter,j),callbacks:{...c3,...a.callbacks},logger:j,callbackUrl:d.origin,isOnRedirectProxy:o,experimental:{...a.experimental}},q=[];if(h)p.csrfTokenVerified=!0;else{let{csrfToken:a,cookie:b,csrfTokenVerified:c}=await cQ({options:p,cookieValue:e?.[p.cookies.csrfToken.name],isPost:i,bodyValue:g});p.csrfToken=a,p.csrfTokenVerified=c,b&&q.push({name:p.cookies.csrfToken.name,value:b,options:p.cookies.csrfToken.options})}let{callbackUrl:r,callbackUrlCookie:s}=await cx({options:p,cookieValue:e?.[p.cookies.callbackUrl.name],paramValue:f});return p.callbackUrl=r,s&&q.push({name:p.cookies.callbackUrl.name,value:s,options:p.cookies.callbackUrl.options}),{options:p,cookies:q}}function c5(a,b){return Object.keys(a).reduce((c,d)=>(c[d]=async(...c)=>{try{let b=a[d];return await b(...c)}catch(a){b.error(new t(a))}},c),{})}function c6(a,b){if(a)return Object.keys(a).reduce((c,d)=>(c[d]=async(...c)=>{try{b.debug(`adapter_${d}`,{args:c});let e=a[d];return await e(...c)}catch(c){let a=new p(c);throw b.error(a),a}},c),{})}var c7,c8,c9,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,dp,dq={},dr=[],ds=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dt=Array.isArray;function du(a,b){for(var c in b)a[c]=b[c];return a}function dv(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function dw(a,b,c){var d,e,f,g={};for(f in b)"key"==f?d=b[f]:"ref"==f?e=b[f]:g[f]=b[f];if(arguments.length>2&&(g.children=arguments.length>3?dd.call(arguments,2):c),"function"==typeof a&&null!=a.defaultProps)for(f in a.defaultProps)void 0===g[f]&&(g[f]=a.defaultProps[f]);return dx(a,g,d,e,null)}function dx(a,b,c,d,e){var f={type:a,props:b,key:c,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==e?++df:e,__i:-1,__u:0};return null==e&&null!=de.vnode&&de.vnode(f),f}function dy(a){return a.children}function dz(a,b){this.props=a,this.context=b}function dA(a,b){if(null==b)return a.__?dA(a.__,a.__i+1):null;for(var c;b<a.__k.length;b++)if(null!=(c=a.__k[b])&&null!=c.__e)return c.__e;return"function"==typeof a.type?dA(a):null}function dB(a){var b,c;if(null!=(a=a.__)&&null!=a.__c){for(a.__e=a.__c.base=null,b=0;b<a.__k.length;b++)if(null!=(c=a.__k[b])&&null!=c.__e){a.__e=a.__c.base=c.__e;break}return dB(a)}}function dC(a){(!a.__d&&(a.__d=!0)&&dh.push(a)&&!dD.__r++||di!==de.debounceRendering)&&((di=de.debounceRendering)||dj)(dD)}function dD(){var a,b,c,d,e,f,g,h;for(dh.sort(dk);a=dh.shift();)a.__d&&(b=dh.length,d=void 0,f=(e=(c=a).__v).__e,g=[],h=[],c.__P&&((d=du({},e)).__v=e.__v+1,de.vnode&&de.vnode(d),dL(c.__P,d,e,c.__n,c.__P.namespaceURI,32&e.__u?[f]:null,g,null==f?dA(e):f,!!(32&e.__u),h),d.__v=e.__v,d.__.__k[d.__i]=d,dM(g,d,h),d.__e!=f&&dB(d)),dh.length>b&&dh.sort(dk));dD.__r=0}function dE(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q=d&&d.__k||dr,r=b.length;for(c.__d=i,dF(c,b,q),i=c.__d,l=0;l<r;l++)null!=(n=c.__k[l])&&(m=-1===n.__i?dq:q[n.__i]||dq,n.__i=l,dL(a,n,m,e,f,g,h,i,j,k),o=n.__e,n.ref&&m.ref!=n.ref&&(m.ref&&dO(m.ref,null,n),k.push(n.ref,n.__c||o,n)),null==p&&null!=o&&(p=o),65536&n.__u||m.__k===n.__k?i=dG(n,i,a):"function"==typeof n.type&&void 0!==n.__d?i=n.__d:o&&(i=o.nextSibling),n.__d=void 0,n.__u&=-196609);c.__d=i,c.__e=p}function dF(a,b,c){var d,e,f,g,h,i=b.length,j=c.length,k=j,l=0;for(a.__k=[],d=0;d<i;d++)null!=(e=b[d])&&"boolean"!=typeof e&&"function"!=typeof e?(g=d+l,(e=a.__k[d]="string"==typeof e||"number"==typeof e||"bigint"==typeof e||e.constructor==String?dx(null,e,null,null,null):dt(e)?dx(dy,{children:e},null,null,null):void 0===e.constructor&&e.__b>0?dx(e.type,e.props,e.key,e.ref?e.ref:null,e.__v):e).__=a,e.__b=a.__b+1,f=null,-1!==(h=e.__i=dH(e,c,g,k))&&(k--,(f=c[h])&&(f.__u|=131072)),null==f||null===f.__v?(-1==h&&l--,"function"!=typeof e.type&&(e.__u|=65536)):h!==g&&(h==g-1?l--:h==g+1?l++:(h>g?l--:l++,e.__u|=65536))):e=a.__k[d]=null;if(k)for(d=0;d<j;d++)null!=(f=c[d])&&0==(131072&f.__u)&&(f.__e==a.__d&&(a.__d=dA(f)),dP(f,f))}function dG(a,b,c){var d,e;if("function"==typeof a.type){for(d=a.__k,e=0;d&&e<d.length;e++)d[e]&&(d[e].__=a,b=dG(d[e],b,c));return b}a.__e!=b&&(b&&a.type&&!c.contains(b)&&(b=dA(a)),c.insertBefore(a.__e,b||null),b=a.__e);do b=b&&b.nextSibling;while(null!=b&&8===b.nodeType)return b}function dH(a,b,c,d){var e=a.key,f=a.type,g=c-1,h=c+1,i=b[c];if(null===i||i&&e==i.key&&f===i.type&&0==(131072&i.__u))return c;if(d>+(null!=i&&0==(131072&i.__u)))for(;g>=0||h<b.length;){if(g>=0){if((i=b[g])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return g;g--}if(h<b.length){if((i=b[h])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return h;h++}}return -1}function dI(a,b,c){"-"===b[0]?a.setProperty(b,null==c?"":c):a[b]=null==c?"":"number"!=typeof c||ds.test(b)?c:c+"px"}function dJ(a,b,c,d,e){var f;a:if("style"===b)if("string"==typeof c)a.style.cssText=c;else{if("string"==typeof d&&(a.style.cssText=d=""),d)for(b in d)c&&b in c||dI(a.style,b,"");if(c)for(b in c)d&&c[b]===d[b]||dI(a.style,b,c[b])}else if("o"===b[0]&&"n"===b[1])f=b!==(b=b.replace(/(PointerCapture)$|Capture$/i,"$1")),b=b.toLowerCase()in a||"onFocusOut"===b||"onFocusIn"===b?b.toLowerCase().slice(2):b.slice(2),a.l||(a.l={}),a.l[b+f]=c,c?d?c.u=d.u:(c.u=dl,a.addEventListener(b,f?dn:dm,f)):a.removeEventListener(b,f?dn:dm,f);else{if("http://www.w3.org/2000/svg"==e)b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=b&&"height"!=b&&"href"!=b&&"list"!=b&&"form"!=b&&"tabIndex"!=b&&"download"!=b&&"rowSpan"!=b&&"colSpan"!=b&&"role"!=b&&"popover"!=b&&b in a)try{a[b]=null==c?"":c;break a}catch(a){}"function"==typeof c||(null==c||!1===c&&"-"!==b[4]?a.removeAttribute(b):a.setAttribute(b,"popover"==b&&1==c?"":c))}}function dK(a){return function(b){if(this.l){var c=this.l[b.type+a];if(null==b.t)b.t=dl++;else if(b.t<c.u)return;return c(de.event?de.event(b):b)}}}function dL(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=b.type;if(void 0!==b.constructor)return null;128&c.__u&&(i=!!(32&c.__u),f=[h=b.__e=c.__e]),(k=de.__b)&&k(b);a:if("function"==typeof A)try{if(r=b.props,s="prototype"in A&&A.prototype.render,t=(k=A.contextType)&&d[k.__c],u=k?t?t.props.value:k.__:d,c.__c?q=(l=b.__c=c.__c).__=l.__E:(s?b.__c=l=new A(r,u):(b.__c=l=new dz(r,u),l.constructor=A,l.render=dQ),t&&t.sub(l),l.props=r,l.state||(l.state={}),l.context=u,l.__n=d,m=l.__d=!0,l.__h=[],l._sb=[]),s&&null==l.__s&&(l.__s=l.state),s&&null!=A.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=du({},l.__s)),du(l.__s,A.getDerivedStateFromProps(r,l.__s))),n=l.props,o=l.state,l.__v=b,m)s&&null==A.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),s&&null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(s&&null==A.getDerivedStateFromProps&&r!==n&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(r,u),!l.__e&&(null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(r,l.__s,u)||b.__v===c.__v)){for(b.__v!==c.__v&&(l.props=r,l.state=l.__s,l.__d=!1),b.__e=c.__e,b.__k=c.__k,b.__k.some(function(a){a&&(a.__=b)}),v=0;v<l._sb.length;v++)l.__h.push(l._sb[v]);l._sb=[],l.__h.length&&g.push(l);break a}null!=l.componentWillUpdate&&l.componentWillUpdate(r,l.__s,u),s&&null!=l.componentDidUpdate&&l.__h.push(function(){l.componentDidUpdate(n,o,p)})}if(l.context=u,l.props=r,l.__P=a,l.__e=!1,w=de.__r,x=0,s){for(l.state=l.__s,l.__d=!1,w&&w(b),k=l.render(l.props,l.state,l.context),y=0;y<l._sb.length;y++)l.__h.push(l._sb[y]);l._sb=[]}else do l.__d=!1,w&&w(b),k=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++x<25)l.state=l.__s,null!=l.getChildContext&&(d=du(du({},d),l.getChildContext())),s&&!m&&null!=l.getSnapshotBeforeUpdate&&(p=l.getSnapshotBeforeUpdate(n,o)),dE(a,dt(z=null!=k&&k.type===dy&&null==k.key?k.props.children:k)?z:[z],b,c,d,e,f,g,h,i,j),l.base=b.__e,b.__u&=-161,l.__h.length&&g.push(l),q&&(l.__E=l.__=null)}catch(a){if(b.__v=null,i||null!=f){for(b.__u|=i?160:128;h&&8===h.nodeType&&h.nextSibling;)h=h.nextSibling;f[f.indexOf(h)]=null,b.__e=h}else b.__e=c.__e,b.__k=c.__k;de.__e(a,b,c)}else null==f&&b.__v===c.__v?(b.__k=c.__k,b.__e=c.__e):b.__e=dN(c.__e,b,c,d,e,f,g,i,j);(k=de.diffed)&&k(b)}function dM(a,b,c){b.__d=void 0;for(var d=0;d<c.length;d++)dO(c[d],c[++d],c[++d]);de.__c&&de.__c(b,a),a.some(function(b){try{a=b.__h,b.__h=[],a.some(function(a){a.call(b)})}catch(a){de.__e(a,b.__v)}})}function dN(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q=c.props,r=b.props,s=b.type;if("svg"===s?e="http://www.w3.org/2000/svg":"math"===s?e="http://www.w3.org/1998/Math/MathML":e||(e="http://www.w3.org/1999/xhtml"),null!=f){for(j=0;j<f.length;j++)if((n=f[j])&&"setAttribute"in n==!!s&&(s?n.localName===s:3===n.nodeType)){a=n,f[j]=null;break}}if(null==a){if(null===s)return document.createTextNode(r);a=document.createElementNS(e,s,r.is&&r),h&&(de.__m&&de.__m(b,f),h=!1),f=null}if(null===s)q===r||h&&a.data===r||(a.data=r);else{if(f=f&&dd.call(a.childNodes),q=c.props||dq,!h&&null!=f)for(q={},j=0;j<a.attributes.length;j++)q[(n=a.attributes[j]).name]=n.value;for(j in q)if(n=q[j],"children"==j);else if("dangerouslySetInnerHTML"==j)l=n;else if(!(j in r)){if("value"==j&&"defaultValue"in r||"checked"==j&&"defaultChecked"in r)continue;dJ(a,j,null,n,e)}for(j in r)n=r[j],"children"==j?m=n:"dangerouslySetInnerHTML"==j?k=n:"value"==j?o=n:"checked"==j?p=n:h&&"function"!=typeof n||q[j]===n||dJ(a,j,n,q[j],e);if(k)h||l&&(k.__html===l.__html||k.__html===a.innerHTML)||(a.innerHTML=k.__html),b.__k=[];else if(l&&(a.innerHTML=""),dE(a,dt(m)?m:[m],b,c,d,"foreignObject"===s?"http://www.w3.org/1999/xhtml":e,f,g,f?f[0]:c.__k&&dA(c,0),h,i),null!=f)for(j=f.length;j--;)dv(f[j]);h||(j="value","progress"===s&&null==o?a.removeAttribute("value"):void 0===o||o===a[j]&&("progress"!==s||o)&&("option"!==s||o===q[j])||dJ(a,j,o,q[j],e),j="checked",void 0!==p&&p!==a[j]&&dJ(a,j,p,q[j],e))}return a}function dO(a,b,c){try{if("function"==typeof a){var d="function"==typeof a.__u;d&&a.__u(),d&&null==b||(a.__u=a(b))}else a.current=b}catch(a){de.__e(a,c)}}function dP(a,b,c){var d,e;if(de.unmount&&de.unmount(a),(d=a.ref)&&(d.current&&d.current!==a.__e||dO(d,null,b)),null!=(d=a.__c)){if(d.componentWillUnmount)try{d.componentWillUnmount()}catch(a){de.__e(a,b)}d.base=d.__P=null}if(d=a.__k)for(e=0;e<d.length;e++)d[e]&&dP(d[e],b,c||"function"!=typeof a.type);c||dv(a.__e),a.__c=a.__=a.__e=a.__d=void 0}function dQ(a,b,c){return this.constructor(a,c)}dd=dr.slice,de={__e:function(a,b,c,d){for(var e,f,g;b=b.__;)if((e=b.__c)&&!e.__)try{if((f=e.constructor)&&null!=f.getDerivedStateFromError&&(e.setState(f.getDerivedStateFromError(a)),g=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(a,d||{}),g=e.__d),g)return e.__E=e}catch(b){a=b}throw a}},df=0,dg=function(a){return null!=a&&null==a.constructor},dz.prototype.setState=function(a,b){var c;c=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=du({},this.state),"function"==typeof a&&(a=a(du({},c),this.props)),a&&du(c,a),null!=a&&this.__v&&(b&&this._sb.push(b),dC(this))},dz.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),dC(this))},dz.prototype.render=dy,dh=[],dj="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dk=function(a,b){return a.__v.__b-b.__v.__b},dD.__r=0,dl=0,dm=dK(!1),dn=dK(!0),dp=0;var dR=/[\s\n\\/='"\0<>]/,dS=/^(xlink|xmlns|xml)([A-Z])/,dT=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,dU=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,dV=new Set(["draggable","spellcheck"]),dW=/["&<]/;function dX(a){if(0===a.length||!1===dW.test(a))return a;for(var b=0,c=0,d="",e="";c<a.length;c++){switch(a.charCodeAt(c)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 60:e="&lt;";break;default:continue}c!==b&&(d+=a.slice(b,c)),d+=e,b=c+1}return c!==b&&(d+=a.slice(b,c)),d}var dY={},dZ=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),d$=/[A-Z]/g;function d_(a){var b="";for(var c in a){var d=a[c];if(null!=d&&""!==d){var e="-"==c[0]?c:dY[c]||(dY[c]=c.replace(d$,"-$&").toLowerCase()),f=";";"number"!=typeof d||e.startsWith("--")||dZ.has(e)||(f="px;"),b=b+e+":"+d+f}}return b||void 0}function d0(){this.__d=!0}function d1(a,b){return{__v:a,context:b,props:a.props,setState:d0,forceUpdate:d0,__d:!0,__h:[]}}function d2(a,b,c){if(!a.s){if(c instanceof d7){if(!c.s)return void(c.o=d2.bind(null,a,b));1&b&&(b=c.s),c=c.v}if(c&&c.then)return void c.then(d2.bind(null,a,b),d2.bind(null,a,2));a.s=b,a.v=c;let d=a.o;d&&d(a)}}var d3,d4,d5,d6,d7=function(){function a(){}return a.prototype.then=function(b,c){var d=new a,e=this.s;if(e){var f=1&e?b:c;if(f){try{d2(d,1,f(this.v))}catch(a){d2(d,2,a)}return d}return this}return this.o=function(a){try{var e=a.v;1&a.s?d2(d,1,b?b(e):e):c?d2(d,1,c(e)):d2(d,2,e)}catch(a){d2(d,2,a)}},d},a}(),d8={},d9=[],ea=Array.isArray,eb=Object.assign,ec="";function ed(a,b,c){var d=de.__s;de.__s=!0,d3=de.__b,d4=de.diffed,d5=de.__r,d6=de.unmount;var e=dw(dy,null);e.__k=[a];try{var f=ef(a,b||d8,!1,void 0,e,!1,c);return ea(f)?f.join(ec):f}catch(a){if(a.then)throw Error('Use "renderToStringAsync" for suspenseful rendering.');throw a}finally{de.__c&&de.__c(a,d9),de.__s=d,d9.length=0}}function ee(a,b){var c,d=a.type,e=!0;return a.__c?(e=!1,(c=a.__c).state=c.__s):c=new d(a.props,b),a.__c=c,c.__v=a,c.props=a.props,c.context=b,c.__d=!0,null==c.state&&(c.state=d8),null==c.__s&&(c.__s=c.state),d.getDerivedStateFromProps?c.state=eb({},c.state,d.getDerivedStateFromProps(c.props,c.state)):e&&c.componentWillMount?(c.componentWillMount(),c.state=c.__s!==c.state?c.__s:c.state):!e&&c.componentWillUpdate&&c.componentWillUpdate(),d5&&d5(a),c.render(c.props,c.state,b)}function ef(a,b,c,d,e,f,g){if(null==a||!0===a||!1===a||a===ec)return ec;var h=typeof a;if("object"!=h)return"function"==h?ec:"string"==h?dX(a):a+ec;if(ea(a)){var i,j=ec;e.__k=a;for(var k=0;k<a.length;k++){var l=a[k];if(null!=l&&"boolean"!=typeof l){var m,n=ef(l,b,c,d,e,f,g);"string"==typeof n?j+=n:(i||(i=[]),j&&i.push(j),j=ec,ea(n)?(m=i).push.apply(m,n):i.push(n))}}return i?(j&&i.push(j),i):j}if(void 0!==a.constructor)return ec;a.__=e,d3&&d3(a);var o=a.type,p=a.props;if("function"==typeof o){var q,r,s,t=b;if(o===dy){if("tpl"in p){for(var u=ec,v=0;v<p.tpl.length;v++)if(u+=p.tpl[v],p.exprs&&v<p.exprs.length){var w=p.exprs[v];if(null==w)continue;"object"==typeof w&&(void 0===w.constructor||ea(w))?u+=ef(w,b,c,d,a,f,g):u+=w}return u}if("UNSTABLE_comment"in p)return"<!--"+dX(p.UNSTABLE_comment)+"-->";r=p.children}else{if(null!=(q=o.contextType)){var x=b[q.__c];t=x?x.props.value:q.__}var y=o.prototype&&"function"==typeof o.prototype.render;if(y)r=ee(a,t),s=a.__c;else{a.__c=s=d1(a,t);for(var z=0;s.__d&&z++<25;)s.__d=!1,d5&&d5(a),r=o.call(s,p,t);s.__d=!0}if(null!=s.getChildContext&&(b=eb({},b,s.getChildContext())),y&&de.errorBoundaries&&(o.getDerivedStateFromError||s.componentDidCatch)){r=null!=r&&r.type===dy&&null==r.key&&null==r.props.tpl?r.props.children:r;try{return ef(r,b,c,d,a,f,g)}catch(e){return o.getDerivedStateFromError&&(s.__s=o.getDerivedStateFromError(e)),s.componentDidCatch&&s.componentDidCatch(e,d8),s.__d?(r=ee(a,b),null!=(s=a.__c).getChildContext&&(b=eb({},b,s.getChildContext())),ef(r=null!=r&&r.type===dy&&null==r.key&&null==r.props.tpl?r.props.children:r,b,c,d,a,f,g)):ec}finally{d4&&d4(a),a.__=null,d6&&d6(a)}}}r=null!=r&&r.type===dy&&null==r.key&&null==r.props.tpl?r.props.children:r;try{var A=ef(r,b,c,d,a,f,g);return d4&&d4(a),a.__=null,de.unmount&&de.unmount(a),A}catch(e){if(!f&&g&&g.onError){var B=g.onError(e,a,function(e){return ef(e,b,c,d,a,f,g)});if(void 0!==B)return B;var C=de.__e;return C&&C(e,a),ec}if(!f||!e||"function"!=typeof e.then)throw e;return e.then(function e(){try{return ef(r,b,c,d,a,f,g)}catch(h){if(!h||"function"!=typeof h.then)throw h;return h.then(function(){return ef(r,b,c,d,a,f,g)},e)}})}}var D,E="<"+o,F=ec;for(var G in p){var H=p[G];if("function"!=typeof H||"class"===G||"className"===G){switch(G){case"children":D=H;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in p)continue;G="for";break;case"className":if("class"in p)continue;G="class";break;case"defaultChecked":G="checked";break;case"defaultSelected":G="selected";break;case"defaultValue":case"value":switch(G="value",o){case"textarea":D=H;continue;case"select":d=H;continue;case"option":d!=H||"selected"in p||(E+=" selected")}break;case"dangerouslySetInnerHTML":F=H&&H.__html;continue;case"style":"object"==typeof H&&(H=d_(H));break;case"acceptCharset":G="accept-charset";break;case"httpEquiv":G="http-equiv";break;default:if(dS.test(G))G=G.replace(dS,"$1:$2").toLowerCase();else{if(dR.test(G))continue;("-"===G[4]||dV.has(G))&&null!=H?H+=ec:c?dU.test(G)&&(G="panose1"===G?"panose-1":G.replace(/([A-Z])/g,"-$1").toLowerCase()):dT.test(G)&&(G=G.toLowerCase())}}null!=H&&!1!==H&&(E=!0===H||H===ec?E+" "+G:E+" "+G+'="'+("string"==typeof H?dX(H):H+ec)+'"')}}if(dR.test(o))throw Error(o+" is not a valid HTML tag name in "+E+">");if(F||("string"==typeof D?F=dX(D):null!=D&&!1!==D&&!0!==D&&(F=ef(D,b,"svg"===o||"foreignObject"!==o&&c,d,a,f,g))),d4&&d4(a),a.__=null,d6&&d6(a),!F&&eg.has(o))return E+"/>";var I="</"+o+">",J=E+">";return ea(F)?[J].concat(F,[I]):"string"!=typeof F?[J,F,I]:J+F+I}var eg=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),eh=0;function ei(a,b,c,d,e,f){b||(b={});var g,h,i=b;"ref"in b&&(g=b.ref,delete b.ref);var j={type:a,props:i,key:c,ref:g,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--eh,__i:-1,__u:0,__source:e,__self:f};if("function"==typeof a&&(g=a.defaultProps))for(h in g)void 0===i[h]&&(i[h]=g[h]);return de.vnode&&de.vnode(j),j}function ej(a){let{url:b,error:c="default",theme:d}=a,e=`${b}/signin`,f={default:{status:200,heading:"Error",message:ei("p",{children:ei("a",{className:"site",href:b?.origin,children:b?.host})})},Configuration:{status:500,heading:"Server error",message:ei("div",{children:[ei("p",{children:"There is a problem with the server configuration."}),ei("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:ei("div",{children:[ei("p",{children:"You do not have permission to sign in."}),ei("p",{children:ei("a",{className:"button",href:e,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:ei("div",{children:[ei("p",{children:"The sign in link is no longer valid."}),ei("p",{children:"It may have been used already or it may have expired."})]}),signin:ei("a",{className:"button",href:e,children:"Sign in"})}},{status:g,heading:h,message:i,signin:j}=f[c]??f.default;return{status:g,html:ei("div",{className:"error",children:[d?.brandColor&&ei("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d?.brandColor}
        }
      `}}),ei("div",{className:"card",children:[d?.logo&&ei("img",{src:d?.logo,alt:"Logo",className:"logo"}),ei("h1",{children:h}),ei("div",{className:"message",children:i}),j]})]})}}async function ek(a,b){let c=window.SimpleWebAuthnBrowser;async function d(c){let d=new URL(`${a}/webauthn-options/${b}`);c&&d.searchParams.append("action",c),f().forEach(a=>{d.searchParams.append(a.name,a.value)});let e=await fetch(d);return e.ok?e.json():void console.error("Failed to fetch options",e)}function e(){let a=`#${b}-form`,c=document.querySelector(a);if(!c)throw Error(`Form '${a}' not found`);return c}function f(){return Array.from(e().querySelectorAll("input[data-form-field]"))}async function g(a,b){let c=e();if(a){let b=document.createElement("input");b.type="hidden",b.name="action",b.value=a,c.appendChild(b)}if(b){let a=document.createElement("input");a.type="hidden",a.name="data",a.value=JSON.stringify(b),c.appendChild(a)}return c.submit()}async function h(a,b){let d=await c.startAuthentication(a,b);return await g("authenticate",d)}async function i(a){f().forEach(a=>{if(a.required&&!a.value)throw Error(`Missing required field: ${a.name}`)});let b=await c.startRegistration(a);return await g("register",b)}async function j(){if(!c.browserSupportsWebAuthnAutofill())return;let a=await d("authenticate");if(!a)return void console.error("Failed to fetch option for autofill authentication");try{await h(a.options,!0)}catch(a){console.error(a)}}(async function(){let a=e();if(!c.browserSupportsWebAuthn()){a.style.display="none";return}a&&a.addEventListener("submit",async a=>{a.preventDefault();let b=await d(void 0);if(!b)return void console.error("Failed to fetch options for form submission");if("authenticate"===b.action)try{await h(b.options,!1)}catch(a){console.error(a)}else if("register"===b.action)try{await i(b.options)}catch(a){console.error(a)}})})(),j()}let el={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."};function em(a){return ei(dy,{children:ei("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${ek})(authURL, "${a}");
`}})})}function en(a){let{csrfToken:b,providers:c=[],callbackUrl:d,theme:e,email:f,error:g}=a;"u">typeof document&&e?.brandColor&&document.documentElement.style.setProperty("--brand-color",e.brandColor),"u">typeof document&&e?.buttonText&&document.documentElement.style.setProperty("--button-text-color",e.buttonText);let h=g&&(el[g]??el.default),i="https://authjs.dev/img/providers",j=c.find(a=>"webauthn"===a.type&&a.enableConditionalUI)?.id;return ei("div",{className:"signin",children:[e?.brandColor&&ei("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${e.brandColor}}`}}),e?.buttonText&&ei("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${e.buttonText}
        }
      `}}),ei("div",{className:"card",children:[h&&ei("div",{className:"error",children:ei("p",{children:h})}),e?.logo&&ei("img",{src:e.logo,alt:"Logo",className:"logo"}),c.map((a,e)=>{let g,h,j;("oauth"===a.type||"oidc"===a.type)&&({bg:g="#fff",brandColor:h,logo:j=`${i}/${a.id}.svg`}=a.style??{});let k=h??g??"#fff";return ei("div",{className:"provider",children:["oauth"===a.type||"oidc"===a.type?ei("form",{action:a.signinUrl,method:"POST",children:[ei("input",{type:"hidden",name:"csrfToken",value:b}),d&&ei("input",{type:"hidden",name:"callbackUrl",value:d}),ei("button",{type:"submit",className:"button",style:{"--provider-brand-color":k},tabIndex:0,children:[ei("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",a.name]}),j&&ei("img",{loading:"lazy",height:24,src:j})]})]}):null,("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e>0&&"email"!==c[e-1].type&&"credentials"!==c[e-1].type&&"webauthn"!==c[e-1].type&&ei("hr",{}),"email"===a.type&&ei("form",{action:a.signinUrl,method:"POST",children:[ei("input",{type:"hidden",name:"csrfToken",value:b}),ei("label",{className:"section-header",htmlFor:`input-email-for-${a.id}-provider`,children:"Email"}),ei("input",{id:`input-email-for-${a.id}-provider`,autoFocus:!0,type:"email",name:"email",value:f,placeholder:"email@example.com",required:!0}),ei("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"credentials"===a.type&&ei("form",{action:a.callbackUrl,method:"POST",children:[ei("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.credentials).map(b=>ei("div",{children:[ei("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.credentials[b].label??b}),ei("input",{name:b,id:`input-${b}-for-${a.id}-provider`,type:a.credentials[b].type??"text",placeholder:a.credentials[b].placeholder??"",...a.credentials[b]})]},`input-group-${a.id}`)),ei("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"webauthn"===a.type&&ei("form",{action:a.callbackUrl,method:"POST",id:`${a.id}-form`,children:[ei("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.formFields).map(b=>ei("div",{children:[ei("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.formFields[b].label??b}),ei("input",{name:b,"data-form-field":!0,id:`input-${b}-for-${a.id}-provider`,type:a.formFields[b].type??"text",placeholder:a.formFields[b].placeholder??"",...a.formFields[b]})]},`input-group-${a.id}`)),ei("button",{id:`submitButton-${a.id}`,type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e+1<c.length&&ei("hr",{})]},a.id)})]}),j&&em(j)]})}function eo(a){let{url:b,csrfToken:c,theme:d}=a;return ei("div",{className:"signout",children:[d?.brandColor&&ei("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d.brandColor}
        }
      `}}),d?.buttonText&&ei("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${d.buttonText}
        }
      `}}),ei("div",{className:"card",children:[d?.logo&&ei("img",{src:d.logo,alt:"Logo",className:"logo"}),ei("h1",{children:"Signout"}),ei("p",{children:"Are you sure you want to sign out?"}),ei("form",{action:b?.toString(),method:"POST",children:[ei("input",{type:"hidden",name:"csrfToken",value:c}),ei("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}let ep=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function eq(a){let{url:b,theme:c}=a;return ei("div",{className:"verify-request",children:[c.brandColor&&ei("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${c.brandColor}
        }
      `}}),ei("div",{className:"card",children:[c.logo&&ei("img",{src:c.logo,alt:"Logo",className:"logo"}),ei("h1",{children:"Check your email"}),ei("p",{children:"A sign in link has been sent to your email address."}),ei("p",{children:ei("a",{className:"site",href:b.origin,children:b.host})})]})]})}function er({html:a,title:b,status:c,cookies:d,theme:e,headTags:f}){return{cookies:d,status:c,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${ep}</style><title>${b}</title>${f??""}</head><body class="__next-auth-theme-${e?.colorScheme??"auto"}"><div class="page">${ed(a)}</div></body></html>`}}function es(a){let{url:b,theme:c,query:d,cookies:e,pages:f,providers:g}=a;return{csrf:(a,b,c)=>a?(b.logger.warn("csrf-disabled"),c.push({name:b.cookies.csrfToken.name,value:"",options:{...b.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:c}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:b.csrfToken},cookies:c},providers:a=>({headers:{"Content-Type":"application/json"},body:a.reduce((a,{id:b,name:c,type:d,signinUrl:e,callbackUrl:f})=>(a[b]={id:b,name:c,type:d,signinUrl:e,callbackUrl:f},a),{})}),signin(b,h){if(b)throw new K("Unsupported action");if(f?.signIn){let b=`${f.signIn}${f.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:a.callbackUrl??"/"})}`;return h&&(b=`${b}&${new URLSearchParams({error:h})}`),{redirect:b,cookies:e}}let i=g?.find(a=>"webauthn"===a.type&&a.enableConditionalUI&&!!a.simpleWebAuthnBrowserVersion),j="";if(i){let{simpleWebAuthnBrowserVersion:a}=i;j=`<script src="https://unpkg.com/@simplewebauthn/browser@${a}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return er({cookies:e,theme:c,html:en({csrfToken:a.csrfToken,providers:a.providers?.filter(a=>["email","oauth","oidc"].includes(a.type)||"credentials"===a.type&&a.credentials||"webauthn"===a.type&&a.formFields||!1),callbackUrl:a.callbackUrl,theme:a.theme,error:h,...d}),title:"Sign In",headTags:j})},signout:()=>f?.signOut?{redirect:f.signOut,cookies:e}:er({cookies:e,theme:c,html:eo({csrfToken:a.csrfToken,url:b,theme:c}),title:"Sign Out"}),verifyRequest:a=>f?.verifyRequest?{redirect:`${f.verifyRequest}${b?.search??""}`,cookies:e}:er({cookies:e,theme:c,html:eq({url:b,theme:c,...a}),title:"Verify Request"}),error:a=>f?.error?{redirect:`${f.error}${f.error.includes("?")?"&":"?"}error=${a}`,cookies:e}:er({cookies:e,theme:c,...ej({url:b,theme:c,error:a}),title:"Error"})}}function et(a,b=Date.now()){return new Date(b+1e3*a)}async function eu(a,b,c,d){if(!c?.providerAccountId||!c.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(c.type))throw Error("Provider not supported");let{adapter:e,jwt:f,events:g,session:{strategy:h,generateSessionToken:i}}=d;if(!e)return{user:b,account:c};let j=b,k=c,{createUser:l,updateUser:m,getUser:n,getUserByAccount:o,getUserByEmail:p,linkAccount:q,createSession:r,getSessionAndUser:s,deleteSession:t}=e,u=null,v=null,w=!1,x="jwt"===h;if(a)if(x)try{let b=d.cookies.sessionToken.name;(u=await f.decode({...f,token:a,salt:b}))&&"sub"in u&&u.sub&&(v=await n(u.sub))}catch{}else{let b=await s(a);b&&(u=b.session,v=b.user)}if("email"===k.type){let b=await p(j.email);return b?(v?.id!==b.id&&!x&&a&&await t(a),v=await m({id:b.id,emailVerified:new Date}),await g.updateUser?.({user:v})):(v=await l({...j,emailVerified:new Date}),await g.createUser?.({user:v}),w=!0),{session:u=x?{}:await r({sessionToken:i(),userId:v.id,expires:et(d.session.maxAge)}),user:v,isNewUser:w}}if("webauthn"===k.type){let a=await o({providerAccountId:k.providerAccountId,provider:k.provider});if(a){if(v){if(a.id===v.id){let a={...k,userId:v.id};return{session:u,user:v,isNewUser:w,account:a}}throw new V("The account is already associated with another user",{provider:k.provider})}u=x?{}:await r({sessionToken:i(),userId:a.id,expires:et(d.session.maxAge)});let b={...k,userId:a.id};return{session:u,user:a,isNewUser:w,account:b}}{if(v){await q({...k,userId:v.id}),await g.linkAccount?.({user:v,account:k,profile:j});let a={...k,userId:v.id};return{session:u,user:v,isNewUser:w,account:a}}if(j.email?await p(j.email):null)throw new V("Another account already exists with the same e-mail address",{provider:k.provider});v=await l({...j}),await g.createUser?.({user:v}),await q({...k,userId:v.id}),await g.linkAccount?.({user:v,account:k,profile:j}),u=x?{}:await r({sessionToken:i(),userId:v.id,expires:et(d.session.maxAge)});let a={...k,userId:v.id};return{session:u,user:v,isNewUser:!0,account:a}}}let y=await o({providerAccountId:k.providerAccountId,provider:k.provider});if(y){if(v){if(y.id===v.id)return{session:u,user:v,isNewUser:w};throw new D("The account is already associated with another user",{provider:k.provider})}return{session:u=x?{}:await r({sessionToken:i(),userId:y.id,expires:et(d.session.maxAge)}),user:y,isNewUser:w}}{let{provider:a}=d,{type:b,provider:c,providerAccountId:e,userId:f,...h}=k,m={providerAccountId:e,provider:c,type:b,userId:f};if(k=Object.assign(a.account(h)??{},m),v)return await q({...k,userId:v.id}),await g.linkAccount?.({user:v,account:k,profile:j}),{session:u,user:v,isNewUser:w};let n=j.email?await p(j.email):null;if(n){let a=d.provider;if(a?.allowDangerousEmailAccountLinking)v=n,w=!1;else throw new D("Another account already exists with the same e-mail address",{provider:k.provider})}else v=await l({...j,emailVerified:null}),w=!0;return await g.createUser?.({user:v}),await q({...k,userId:v.id}),await g.linkAccount?.({user:v,account:k,profile:j}),{session:u=x?{}:await r({sessionToken:i(),userId:v.id,expires:et(d.session.maxAge)}),user:v,isNewUser:w}}}if("u"<typeof navigator||!navigator.userAgent?.startsWith?.("Mozilla/5.0 ")){let a="oauth4webapi",b="v3.8.5";d=`${a}/${b}`}function ev(a,b){if(null==a)return!1;try{return a instanceof b||Object.getPrototypeOf(a)[Symbol.toStringTag]===b.prototype[Symbol.toStringTag]}catch{return!1}}let ew="ERR_INVALID_ARG_VALUE",ex="ERR_INVALID_ARG_TYPE";function ey(a,b,c){let d=TypeError(a,{cause:c});return Object.assign(d,{code:b}),d}let ez=Symbol(),eA=Symbol(),eB=Symbol(),eC=Symbol(),eD=Symbol(),eE=Symbol();Symbol();let eF=new TextEncoder,eG=new TextDecoder;function eH(a){return"string"==typeof a?eF.encode(a):eG.decode(a)}if(Uint8Array.prototype.toBase64)e=a=>(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a.toBase64({alphabet:"base64url",omitPadding:!0}));else{let a=32768;e=b=>{b instanceof ArrayBuffer&&(b=new Uint8Array(b));let c=[];for(let d=0;d<b.byteLength;d+=a)c.push(String.fromCharCode.apply(null,b.subarray(d,d+a)));return btoa(c.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}}function eI(a){return"string"==typeof a?f(a):e(a)}f=Uint8Array.fromBase64?a=>{try{return Uint8Array.fromBase64(a,{alphabet:"base64url"})}catch(a){throw ey("The input to be decoded is not correctly encoded.",ew,a)}}:a=>{try{let b=atob(a.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}catch(a){throw ey("The input to be decoded is not correctly encoded.",ew,a)}};class eJ extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=f5,Error.captureStackTrace?.(this,this.constructor)}}class eK extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,b?.code&&(this.code=b?.code),Error.captureStackTrace?.(this,this.constructor)}}function eL(a,b,c){return new eK(a,{code:b,cause:c})}function eM(a,b){if(!(a instanceof CryptoKey))throw ey(`${b} must be a CryptoKey`,ex)}function eN(a,b){if(eM(a,b),"private"!==a.type)throw ey(`${b} must be a private CryptoKey`,ew)}function eO(a){return!(null===a||"object"!=typeof a||Array.isArray(a))}function eP(a){ev(a,Headers)&&(a=Object.fromEntries(a.entries()));let b=new Headers(a??{});if(d&&!b.has("user-agent")&&b.set("user-agent",d),b.has("authorization"))throw ey('"options.headers" must not include the "authorization" header name',ew);return b}function eQ(a,b){if(void 0!==b){if("function"==typeof b&&(b=b(a.href)),!(b instanceof AbortSignal))throw ey('"options.signal" must return or be an instance of AbortSignal',ex);return b}}function eR(a){return a.includes("//")?a.replace("//","/"):a}function eS(a,b,c=!1){return"/"===a.pathname?a.pathname=b:a.pathname=eR(`${b}/${c?a.pathname:a.pathname.replace(/(\/)$/,"")}`),a}function eT(a,b){return a.pathname=eR(`${a.pathname}/${b}`),a}async function eU(a,b,c,d){if(!(a instanceof URL))throw ey(`"${b}" must be an instance of URL`,ex);fm(a,d?.[ez]!==!0);let e=c(new URL(a.href)),f=eP(d?.headers);return f.set("accept","application/json"),(d?.[eC]||fetch)(e.href,{body:void 0,headers:Object.fromEntries(f.entries()),method:"GET",redirect:"manual",signal:eQ(e,d?.signal)})}async function eV(a,b){return eU(a,"issuerIdentifier",a=>{switch(b?.algorithm){case void 0:case"oidc":eT(a,".well-known/openid-configuration");break;case"oauth2":eS(a,".well-known/oauth-authorization-server");break;default:throw ey('"options.algorithm" must be "oidc" (default), or "oauth2"',ew)}return a},b)}function eW(a,b,c,d,e){try{if("number"!=typeof a||!Number.isFinite(a))throw ey(`${c} must be a number`,ex,e);if(a>0)return;if(b){if(0!==a)throw ey(`${c} must be a non-negative number`,ew,e);return}throw ey(`${c} must be a positive number`,ew,e)}catch(a){if(d)throw eL(a.message,d,e);throw a}}function eX(a,b,c,d){try{if("string"!=typeof a)throw ey(`${b} must be a string`,ex,d);if(0===a.length)throw ey(`${b} must not be empty`,ew,d)}catch(a){if(c)throw eL(a.message,c,d);throw a}}async function eY(a,b){let c=a;if(!(c instanceof URL)&&c!==gu)throw ey('"expectedIssuerIdentifier" must be an instance of URL',ex);if(!ev(b,Response))throw ey('"response" must be an instance of Response',ex);if(200!==b.status)throw eL('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',gb,b);gj(b);let d=await gt(b);if(eX(d.issuer,'"response" body "issuer" property',f9,{body:d}),c!==gu&&new URL(d.issuer).href!==c.href)throw eL('"response" body "issuer" property does not match the expected value',gg,{expected:c.href,body:d,attribute:"issuer"});return d}function eZ(a){e_(a,"application/json")}function e$(a,...b){let c='"response" content-type must be ';if(b.length>2){let a=b.pop();c+=`${b.join(", ")}, or ${a}`}else 2===b.length?c+=`${b[0]} or ${b[1]}`:c+=b[0];return eL(c,ga,a)}function e_(a,b){if(fH(a)!==b)throw e$(a,b)}function e0(){return eI(crypto.getRandomValues(new Uint8Array(32)))}function e1(){return e0()}function e2(){return e0()}function e3(){return e0()}async function e4(a){return eX(a,"codeVerifier"),eI(await crypto.subtle.digest("SHA-256",eH(a)))}function e5(a){return a instanceof CryptoKey?{key:a}:a?.key instanceof CryptoKey?(void 0!==a.kid&&eX(a.kid,'"kid"'),{key:a.key,kid:a.kid}):{}}function e6(a){switch(a.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new eJ("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}}function e7(a){switch(a.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new eJ("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}}function e8(a){switch(a.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new eJ("unsupported EcKeyAlgorithm namedCurve",{cause:a})}}function e9(a){switch(a.algorithm.name){case"RSA-PSS":return e6(a);case"RSASSA-PKCS1-v1_5":return e7(a);case"ECDSA":return e8(a);case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return a.algorithm.name;case"EdDSA":return"Ed25519";default:throw new eJ("unsupported CryptoKey algorithm name",{cause:a})}}function fa(a){let b=a?.[eA];return"number"==typeof b&&Number.isFinite(b)?b:0}function fb(a){let b=a?.[eB];return"number"==typeof b&&Number.isFinite(b)&&-1!==Math.sign(b)?b:30}function fc(){return Math.floor(Date.now()/1e3)}function fd(a){if("object"!=typeof a||null===a)throw ey('"as" must be an object',ex);eX(a.issuer,'"as.issuer"')}function fe(a){if("object"!=typeof a||null===a)throw ey('"client" must be an object',ex);eX(a.client_id,'"client.client_id"')}function ff(a){return eX(a,'"clientSecret"'),(b,c,d,e)=>{d.set("client_id",c.client_id),d.set("client_secret",a)}}function fg(a,b){let c=fc()+fa(b);return{jti:e0(),aud:a.issuer,exp:c+60,iat:c,nbf:c,iss:b.client_id,sub:b.client_id}}function fh(a,b){let{key:c,kid:d}=e5(a);return eN(c,'"clientPrivateKey.key"'),async(a,e,f,g)=>{let h={alg:e9(c),kid:d},i=fg(a,e);b?.[eD]?.(h,i),f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",await fk(h,i,c))}}function fi(a,b){let c;eX(a,'"clientSecret"');let d=b?.[eD];return async(b,e,f,g)=>{c||=await crypto.subtle.importKey("raw",eH(a),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let h={alg:"HS256"},i=fg(b,e);d?.(h,i);let j=`${eI(eH(JSON.stringify(h)))}.${eI(eH(JSON.stringify(i)))}`,k=await crypto.subtle.sign(c.algorithm,c,eH(j));f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",`${j}.${eI(new Uint8Array(k))}`)}}function fj(){return(a,b,c,d)=>{c.set("client_id",b.client_id)}}async function fk(a,b,c){if(!c.usages.includes("sign"))throw ey('CryptoKey instances used for signing assertions must include "sign" in their "usages"',ew);let d=`${eI(eH(JSON.stringify(a)))}.${eI(eH(JSON.stringify(b)))}`,e=eI(await crypto.subtle.sign(gm(c),c,eH(d)));return`${d}.${e}`}let fl=URL.parse?(a,b)=>URL.parse(a,b):(a,b)=>{try{return new URL(a,b)}catch{return null}};function fm(a,b){if(b&&"https:"!==a.protocol)throw eL("only requests to HTTPS are allowed",gc,a);if("https:"!==a.protocol&&"http:"!==a.protocol)throw eL("only HTTP and HTTPS requests are allowed",gd,a)}function fn(a,b,c,d){let e;if("string"!=typeof a||!(e=fl(a)))throw eL(`authorization server metadata does not contain a valid ${c?`"as.mtls_endpoint_aliases.${b}"`:`"as.${b}"`}`,void 0===a?gh:gi,{attribute:c?`mtls_endpoint_aliases.${b}`:b});return fm(e,d),e}function fo(a,b,c,d){return c&&a.mtls_endpoint_aliases&&b in a.mtls_endpoint_aliases?fn(a.mtls_endpoint_aliases[b],b,c,d):fn(a[b],b,c,d)}class fp extends Error{cause;code;error;status;error_description;response;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=f4,this.cause=b.cause,this.error=b.cause.error,this.status=b.response.status,this.error_description=b.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:b.response}),Error.captureStackTrace?.(this,this.constructor)}}class fq extends Error{cause;code;error;error_description;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=f6,this.cause=b.cause,this.error=b.cause.get("error"),this.error_description=b.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class fr extends Error{cause;code;response;status;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=f3,this.cause=b.cause,this.status=b.response.status,this.response=b.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let fs="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",ft="[a-zA-Z0-9\\-\\._\\~\\+\\/]+={0,2}",fu="("+fs+')\\s*=\\s*"((?:[^"\\\\]|\\\\[\\s\\S])*)"',fv="("+fs+")\\s*=\\s*("+fs+")",fw=RegExp("^[,\\s]*("+fs+")"),fx=RegExp("^[,\\s]*"+fu+"[,\\s]*(.*)"),fy=RegExp("^[,\\s]*"+fv+"[,\\s]*(.*)"),fz=RegExp("^("+ft+")(?:$|[,\\s])(.*)");function fA(a){if(!ev(a,Response))throw ey('"response" must be an instance of Response',ex);let b=a.headers.get("www-authenticate");if(null===b)return;let c=[],d=b;for(;d;){let a,b=d.match(fw),e=b?.["1"].toLowerCase();if(!e)return;let f=d.substring(b[0].length);if(f&&!f.match(/^[\s,]/))return;let g=f.match(/^\s+(.*)$/),h=!!g;d=g?g[1]:void 0;let i={};if(h)for(;d;){let c,e;if(b=d.match(fx)){if([,c,e,d]=b,e.includes("\\"))try{e=JSON.parse(`"${e}"`)}catch{}i[c.toLowerCase()]=e;continue}if(b=d.match(fy)){[,c,e,d]=b,i[c.toLowerCase()]=e;continue}if(b=d.match(fz)){if(Object.keys(i).length)break;[,a,d]=b;break}return}else d=f||void 0;let j={scheme:e,parameters:i};a&&(j.token68=a),c.push(j)}if(c.length)return c}async function fB(a){if(a.status>399&&a.status<500){gj(a),eZ(a);try{let b=await a.clone().json();if(eO(b)&&"string"==typeof b.error&&b.error.length)return b}catch{}}}async function fC(a,b,c){if(a.status!==b){let b;if(fP(a),b=await fB(a))throw await a.body?.cancel(),new fp("server responded with an error in the response body",{cause:b,response:a});throw eL(`"response" is not a conform ${c} response (unexpected HTTP status code)`,gb,a)}}function fD(a){if(!fU.has(a))throw ey('"options.DPoP" is not a valid DPoPHandle',ew)}async function fE(a,b,c,d,e,f){if(eX(a,'"accessToken"'),!(c instanceof URL))throw ey('"url" must be an instance of URL',ex);fm(c,f?.[ez]!==!0),d=eP(d),f?.DPoP&&(fD(f.DPoP),await f.DPoP.addProof(c,d,b.toUpperCase(),a)),d.set("authorization",`${d.has("dpop")?"DPoP":"Bearer"} ${a}`);let g=await (f?.[eC]||fetch)(c.href,{duplex:ev(e,ReadableStream)?"half":void 0,body:e,headers:Object.fromEntries(d.entries()),method:b,redirect:"manual",signal:eQ(c,f?.signal)});return f?.DPoP?.cacheNonce(g,c),g}async function fF(a,b,c,d){fd(a),fe(b);let e=fo(a,"userinfo_endpoint",b.use_mtls_endpoint_aliases,d?.[ez]!==!0),f=eP(d?.headers);return b.userinfo_signed_response_alg?f.set("accept","application/jwt"):(f.set("accept","application/json"),f.append("accept","application/jwt")),fE(c,"GET",e,f,null,{...d,[eA]:fa(b)})}let fG=Symbol();function fH(a){return a.headers.get("content-type")?.split(";")[0]}async function fI(a,b,c,d,e){let f;if(fd(a),fe(b),!ev(d,Response))throw ey('"response" must be an instance of Response',ex);if(fP(d),200!==d.status)throw eL('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',gb,d);if(gj(d),"application/jwt"===fH(d)){let{claims:c,jwt:g}=await gn(await d.text(),go.bind(void 0,b.userinfo_signed_response_alg,a.userinfo_signing_alg_values_supported,void 0),fa(b),fb(b),e?.[eE]).then(fQ.bind(void 0,b.client_id)).then(fS.bind(void 0,a));fM.set(d,g),f=c}else{if(b.userinfo_signed_response_alg)throw eL("JWT UserInfo Response expected",f7,d);f=await gt(d)}if(eX(f.sub,'"response" body "sub" property',f9,{body:f}),c===fG);else if(eX(c,'"expectedSubject"'),f.sub!==c)throw eL('unexpected "response" body "sub" property value',gg,{expected:c,body:f,attribute:"sub"});return f}async function fJ(a,b,c,d,e,f,g){return await c(a,b,e,f),f.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(g?.[eC]||fetch)(d.href,{body:e,headers:Object.fromEntries(f.entries()),method:"POST",redirect:"manual",signal:eQ(d,g?.signal)})}async function fK(a,b,c,d,e,f){let g=fo(a,"token_endpoint",b.use_mtls_endpoint_aliases,f?.[ez]!==!0);e.set("grant_type",d);let h=eP(f?.headers);h.set("accept","application/json"),f?.DPoP!==void 0&&(fD(f.DPoP),await f.DPoP.addProof(g,h,"POST"));let i=await fJ(a,b,c,g,e,h,f);return f?.DPoP?.cacheNonce(i,g),i}let fL=new WeakMap,fM=new WeakMap;function fN(a){if(!a.id_token)return;let b=fL.get(a);if(!b)throw ey('"ref" was already garbage collected or did not resolve from the proper sources',ew);return b}async function fO(a,b,c,d,e,f){if(fd(a),fe(b),!ev(c,Response))throw ey('"response" must be an instance of Response',ex);await fC(c,200,"Token Endpoint"),gj(c);let g=await gt(c);if(eX(g.access_token,'"response" body "access_token" property',f9,{body:g}),eX(g.token_type,'"response" body "token_type" property',f9,{body:g}),g.token_type=g.token_type.toLowerCase(),void 0!==g.expires_in){let a="number"!=typeof g.expires_in?parseFloat(g.expires_in):g.expires_in;eW(a,!0,'"response" body "expires_in" property',f9,{body:g}),g.expires_in=a}if(void 0!==g.refresh_token&&eX(g.refresh_token,'"response" body "refresh_token" property',f9,{body:g}),void 0!==g.scope&&"string"!=typeof g.scope)throw eL('"response" body "scope" property must be a string',f9,{body:g});if(void 0!==g.id_token){eX(g.id_token,'"response" body "id_token" property',f9,{body:g});let f=["aud","exp","iat","iss","sub"];!0===b.require_auth_time&&f.push("auth_time"),void 0!==b.default_max_age&&(eW(b.default_max_age,!0,'"client.default_max_age"'),f.push("auth_time")),d?.length&&f.push(...d);let{claims:h,jwt:i}=await gn(g.id_token,go.bind(void 0,b.id_token_signed_response_alg,a.id_token_signing_alg_values_supported,"RS256"),fa(b),fb(b),e).then(fZ.bind(void 0,f)).then(fT.bind(void 0,a)).then(fR.bind(void 0,b.client_id));if(Array.isArray(h.aud)&&1!==h.aud.length){if(void 0===h.azp)throw eL('ID Token "aud" (audience) claim includes additional untrusted audiences',gf,{claims:h,claim:"aud"});if(h.azp!==b.client_id)throw eL('unexpected ID Token "azp" (authorized party) claim value',gf,{expected:b.client_id,claims:h,claim:"azp"})}void 0!==h.auth_time&&eW(h.auth_time,!0,'ID Token "auth_time" (authentication time)',f9,{claims:h}),fM.set(c,i),fL.set(g,h)}if(f?.[g.token_type]!==void 0)f[g.token_type](c,g);else if("dpop"!==g.token_type&&"bearer"!==g.token_type)throw new eJ("unsupported `token_type` value",{cause:{body:g}});return g}function fP(a){let b;if(b=fA(a))throw new fr("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:b,response:a})}function fQ(a,b){return void 0!==b.claims.aud?fR(a,b):b}function fR(a,b){if(Array.isArray(b.claims.aud)){if(!b.claims.aud.includes(a))throw eL('unexpected JWT "aud" (audience) claim value',gf,{expected:a,claims:b.claims,claim:"aud"})}else if(b.claims.aud!==a)throw eL('unexpected JWT "aud" (audience) claim value',gf,{expected:a,claims:b.claims,claim:"aud"});return b}function fS(a,b){return void 0!==b.claims.iss?fT(a,b):b}function fT(a,b){let c=a[gv]?.(b)??a.issuer;if(b.claims.iss!==c)throw eL('unexpected JWT "iss" (issuer) claim value',gf,{expected:c,claims:b.claims,claim:"iss"});return b}let fU=new WeakSet;function fV(a){return fU.add(a),a}let fW=Symbol();async function fX(a,b,c,d,e,f,g){if(fd(a),fe(b),!fU.has(d))throw ey('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',ew);eX(e,'"redirectUri"');let h=gp(d,"code");if(!h)throw eL('no authorization code in "callbackParameters"',f9);let i=new URLSearchParams(g?.additionalParameters);return i.set("redirect_uri",e),i.set("code",h),f!==fW&&(eX(f,'"codeVerifier"'),i.set("code_verifier",f)),fK(a,b,c,"authorization_code",i,g)}let fY={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function fZ(a,b){for(let c of a)if(void 0===b.claims[c])throw eL(`JWT "${c}" (${fY[c]}) claim missing`,f9,{claims:b.claims});return b}let f$=Symbol(),f_=Symbol();async function f0(a,b,c,d){return"string"==typeof d?.expectedNonce||"number"==typeof d?.maxAge||d?.requireIdToken?f1(a,b,c,d.expectedNonce,d.maxAge,d[eE],d.recognizedTokenTypes):f2(a,b,c,d?.[eE],d?.recognizedTokenTypes)}async function f1(a,b,c,d,e,f,g){let h=[];switch(d){case void 0:d=f$;break;case f$:break;default:eX(d,'"expectedNonce" argument'),h.push("nonce")}switch(e??=b.default_max_age){case void 0:e=f_;break;case f_:break;default:eW(e,!0,'"maxAge" argument'),h.push("auth_time")}let i=await fO(a,b,c,h,f,g);eX(i.id_token,'"response" body "id_token" property',f9,{body:i});let j=fN(i);if(e!==f_){let a=fc()+fa(b),c=fb(b);if(j.auth_time+e<a-c)throw eL("too much time has elapsed since the last End-User authentication",ge,{claims:j,now:a,tolerance:c,claim:"auth_time"})}if(d===f$){if(void 0!==j.nonce)throw eL('unexpected ID Token "nonce" claim value',gf,{expected:void 0,claims:j,claim:"nonce"})}else if(j.nonce!==d)throw eL('unexpected ID Token "nonce" claim value',gf,{expected:d,claims:j,claim:"nonce"});return i}async function f2(a,b,c,d,e){let f=await fO(a,b,c,void 0,d,e),g=fN(f);if(g){if(void 0!==b.default_max_age){eW(b.default_max_age,!0,'"client.default_max_age"');let a=fc()+fa(b),c=fb(b);if(g.auth_time+b.default_max_age<a-c)throw eL("too much time has elapsed since the last End-User authentication",ge,{claims:g,now:a,tolerance:c,claim:"auth_time"})}if(void 0!==g.nonce)throw eL('unexpected ID Token "nonce" claim value',gf,{expected:void 0,claims:g,claim:"nonce"})}return f}let f3="OAUTH_WWW_AUTHENTICATE_CHALLENGE",f4="OAUTH_RESPONSE_BODY_ERROR",f5="OAUTH_UNSUPPORTED_OPERATION",f6="OAUTH_AUTHORIZATION_RESPONSE_ERROR",f7="OAUTH_JWT_USERINFO_EXPECTED",f8="OAUTH_PARSE_ERROR",f9="OAUTH_INVALID_RESPONSE",ga="OAUTH_RESPONSE_IS_NOT_JSON",gb="OAUTH_RESPONSE_IS_NOT_CONFORM",gc="OAUTH_HTTP_REQUEST_FORBIDDEN",gd="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",ge="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",gf="OAUTH_JWT_CLAIM_COMPARISON_FAILED",gg="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",gh="OAUTH_MISSING_SERVER_METADATA",gi="OAUTH_INVALID_SERVER_METADATA";function gj(a){if(a.bodyUsed)throw ey('"response" body has been used already',ew)}function gk(a){let{algorithm:b}=a;if("number"!=typeof b.modulusLength||b.modulusLength<2048)throw new eJ(`unsupported ${b.name} modulusLength`,{cause:a})}function gl(a){let{algorithm:b}=a;switch(b.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new eJ("unsupported ECDSA namedCurve",{cause:a})}}function gm(a){switch(a.algorithm.name){case"ECDSA":return{name:a.algorithm.name,hash:gl(a)};case"RSA-PSS":switch(gk(a),a.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:a.algorithm.name,saltLength:parseInt(a.algorithm.hash.name.slice(-3),10)>>3};default:throw new eJ("unsupported RSA-PSS hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":return gk(a),a.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return a.algorithm.name}throw new eJ("unsupported CryptoKey algorithm name",{cause:a})}async function gn(a,b,c,d,e){let f,g,{0:h,1:i,length:j}=a.split(".");if(5===j)if(void 0!==e)a=await e(a),{0:h,1:i,length:j}=a.split(".");else throw new eJ("JWE decryption is not configured",{cause:a});if(3!==j)throw eL("Invalid JWT",f9,a);try{f=JSON.parse(eH(eI(h)))}catch(a){throw eL("failed to parse JWT Header body as base64url encoded JSON",f8,a)}if(!eO(f))throw eL("JWT Header must be a top level object",f9,a);if(b(f),void 0!==f.crit)throw new eJ('no JWT "crit" header parameter extensions are supported',{cause:{header:f}});try{g=JSON.parse(eH(eI(i)))}catch(a){throw eL("failed to parse JWT Payload body as base64url encoded JSON",f8,a)}if(!eO(g))throw eL("JWT Payload must be a top level object",f9,a);let k=fc()+c;if(void 0!==g.exp){if("number"!=typeof g.exp)throw eL('unexpected JWT "exp" (expiration time) claim type',f9,{claims:g});if(g.exp<=k-d)throw eL('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',ge,{claims:g,now:k,tolerance:d,claim:"exp"})}if(void 0!==g.iat&&"number"!=typeof g.iat)throw eL('unexpected JWT "iat" (issued at) claim type',f9,{claims:g});if(void 0!==g.iss&&"string"!=typeof g.iss)throw eL('unexpected JWT "iss" (issuer) claim type',f9,{claims:g});if(void 0!==g.nbf){if("number"!=typeof g.nbf)throw eL('unexpected JWT "nbf" (not before) claim type',f9,{claims:g});if(g.nbf>k+d)throw eL('unexpected JWT "nbf" (not before) claim value',ge,{claims:g,now:k,tolerance:d,claim:"nbf"})}if(void 0!==g.aud&&"string"!=typeof g.aud&&!Array.isArray(g.aud))throw eL('unexpected JWT "aud" (audience) claim type',f9,{claims:g});return{header:f,claims:g,jwt:a}}function go(a,b,c,d){if(void 0!==a){if("string"==typeof a?d.alg!==a:!a.includes(d.alg))throw eL('unexpected JWT "alg" header parameter',f9,{header:d,expected:a,reason:"client configuration"});return}if(Array.isArray(b)){if(!b.includes(d.alg))throw eL('unexpected JWT "alg" header parameter',f9,{header:d,expected:b,reason:"authorization server metadata"});return}if(void 0!==c){if("string"==typeof c?d.alg!==c:"function"==typeof c?!c(d.alg):!c.includes(d.alg))throw eL('unexpected JWT "alg" header parameter',f9,{header:d,expected:c,reason:"default value"});return}throw eL('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:a,issuer:b,fallback:c})}function gp(a,b){let{0:c,length:d}=a.getAll(b);if(d>1)throw eL(`"${b}" parameter must be provided only once`,f9);return c}let gq=Symbol(),gr=Symbol();function gs(a,b,c,d){if(fd(a),fe(b),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw ey('"parameters" must be an instance of URLSearchParams, or URL',ex);if(gp(c,"response"))throw eL('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',f9,{parameters:c});let e=gp(c,"iss"),f=gp(c,"state");if(!e&&a.authorization_response_iss_parameter_supported)throw eL('response parameter "iss" (issuer) missing',f9,{parameters:c});if(e&&e!==a.issuer)throw eL('unexpected "iss" (issuer) response parameter value',f9,{expected:a.issuer,parameters:c});switch(d){case void 0:case gr:if(void 0!==f)throw eL('unexpected "state" response parameter encountered',f9,{expected:void 0,parameters:c});break;case gq:break;default:if(eX(d,'"expectedState" argument'),f!==d)throw eL(void 0===f?'response parameter "state" missing':'unexpected "state" response parameter value',f9,{expected:d,parameters:c})}if(gp(c,"error"))throw new fq("authorization response from the server is an error",{cause:c});let g=gp(c,"id_token"),h=gp(c,"token");if(void 0!==g||void 0!==h)throw new eJ("implicit and hybrid flows are not supported");return fV(new URLSearchParams(c))}async function gt(a,b=eZ){let c;try{c=await a.json()}catch(c){throw b(a),eL('failed to parse "response" body as JSON',f8,c)}if(!eO(c))throw eL('"response" body must be a top level object',f9,{body:c});return c}let gu=Symbol(),gv=Symbol(),gw=900;async function gx(a,b,c){let{cookies:d,logger:e}=c,f=d[a],g=new Date;g.setTime(g.getTime()+1e3*gw),e.debug(`CREATE_${a.toUpperCase()}`,{name:f.name,payload:b,COOKIE_TTL:gw,expires:g});let h=await cu({...c.jwt,maxAge:gw,token:{value:b},salt:f.name}),i={...f.options,expires:g};return{name:f.name,value:h,options:i}}async function gy(a,b,c){try{let{logger:d,cookies:e,jwt:f}=c;if(d.debug(`PARSE_${a.toUpperCase()}`,{cookie:b}),!b)throw new x(`${a} cookie was missing`);let g=await cv({...f,token:b,salt:e[a].name});if(g?.value)return g.value;throw Error("Invalid cookie")}catch(b){throw new x(`${a} value could not be parsed`,{cause:b})}}function gz(a,b,c){let{logger:d,cookies:e}=b,f=e[a];d.debug(`CLEAR_${a.toUpperCase()}`,{cookie:f}),c.push({name:f.name,value:"",options:{...e[a].options,maxAge:0}})}function gA(a,b){return async function(c,d,e){let{provider:f,logger:g}=e;if(!f?.checks?.includes(a))return;let h=c?.[e.cookies[b].name];g.debug(`USE_${b.toUpperCase()}`,{value:h});let i=await gy(b,h,e);return gz(b,e,d),i}}let gB={async create(a){let b=e1(),c=await e4(b);return{cookie:await gx("pkceCodeVerifier",b,a),value:c}},use:gA("pkce","pkceCodeVerifier")},gC=900,gD="encodedState",gE={async create(a,b){let{provider:c}=a;if(!c.checks.includes("state")){if(b)throw new x("State data was provided but the provider is not configured to use state");return}let d={origin:b,random:e2()},e=await cu({secret:a.jwt.secret,token:d,salt:gD,maxAge:gC});return{cookie:await gx("state",e,a),value:e}},use:gA("state","state"),async decode(a,b){try{b.logger.debug("DECODE_STATE",{state:a});let c=await cv({secret:b.jwt.secret,token:a,salt:gD});if(c)return c;throw Error("Invalid state")}catch(a){throw new x("State could not be decoded",{cause:a})}}},gF={async create(a){if(!a.provider.checks.includes("nonce"))return;let b=e3();return{cookie:await gx("nonce",b,a),value:b}},use:gA("nonce","nonce")},gG=900,gH="encodedWebauthnChallenge",gI={create:async(a,b,c)=>({cookie:await gx("webauthnChallenge",await cu({secret:a.jwt.secret,token:{challenge:b,registerData:c},salt:gH,maxAge:gG}),a)}),async use(a,b,c){let d=b?.[a.cookies.webauthnChallenge.name],e=await gy("webauthnChallenge",d,a),f=await cv({secret:a.jwt.secret,token:e,salt:gH});if(gz("webauthnChallenge",a,c),!f)throw new x("WebAuthn challenge was missing");return f}};function gJ(a){let b,c;if("string"!=typeof a)throw new aJ("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:e}=a.split(".");if(5===e)throw new aJ("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new aJ("Invalid JWT");if(!d)throw new aJ("JWTs must contain a payload");try{b=az(d)}catch{throw new aJ("Failed to base64url decode the payload")}try{c=JSON.parse(aq.decode(b))}catch{throw new aJ("Failed to parse the decoded payload as JSON")}if(!bn(c))throw new aJ("Invalid JWT Claims Set");return c}function gK(a){return encodeURIComponent(a).replace(/%20/g,"+")}function gL(a,b){let c=gK(a),d=gK(b),e=btoa(`${c}:${d}`);return`Basic ${e}`}async function gM(a,b,c){let d,e,f,{logger:g,provider:h}=c,{token:i,userinfo:j}=h;if(i?.url&&"authjs.dev"!==i.url.host||j?.url&&"authjs.dev"!==j.url.host)d={issuer:h.issuer??"https://authjs.dev",token_endpoint:i?.url.toString(),userinfo_endpoint:j?.url.toString()};else{let a=new URL(h.issuer),b=await eV(a,{[ez]:!0,[eC]:h[cW]});if(!(d=await eY(a,b)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!d.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let k={client_id:h.clientId,...h.client};switch(k.token_endpoint_auth_method){case void 0:case"client_secret_basic":e=(a,b,c,d)=>{d.set("authorization",gL(h.clientId,h.clientSecret))};break;case"client_secret_post":e=ff(h.clientSecret);break;case"client_secret_jwt":e=fi(h.clientSecret);break;case"private_key_jwt":e=fh(h.token.clientPrivateKey,{[eD](a,b){b.aud=[d.issuer,d.token_endpoint]}});break;case"none":e=fj();break;default:throw Error("unsupported client authentication method")}let l=[],m=await gE.use(b,l,c);try{f=gs(d,k,new URLSearchParams(a),h.checks.includes("state")?m:gq)}catch(a){if(a instanceof fq){let b={providerId:h.id,...Object.fromEntries(a.cause.entries())};throw g.debug("OAuthCallbackError",b),new E("OAuth Provider returned an error",b)}throw a}let n=await gB.use(b,l,c),o=h.callbackUrl;!c.isOnRedirectProxy&&h.redirectProxyUrl&&(o=h.redirectProxyUrl);let p=await fX(d,k,e,f,o,n??"decoy",{[ez]:!0,[eC]:(...a)=>(h.checks.includes("pkce")||a[1].body.delete("code_verifier"),(h[cW]??fetch)(...a))});h.token?.conform&&(p=await h.token.conform(p.clone())??p);let q={},r=c2(h);if(h[cX])switch(h.id){case"microsoft-entra-id":case"azure-ad":{let a=await p.clone().json();if(a.error){let b={providerId:h.id,...a};throw new E(`OAuth Provider returned an error: ${a.error}`,b)}let{tid:b}=gJ(a.id_token);if("string"==typeof b){let a=/microsoftonline\.com\/(\w+)\/v2\.0/,c=d.issuer?.match(a)?.[1]??"common",e=new URL(d.issuer.replace(c,b)),f=await eV(e,{[eC]:h[cW]});d=await eY(e,f)}}}let s=await f0(d,k,p,{expectedNonce:await gF.use(b,l,c),requireIdToken:r}),t=s;if(r){let b=fN(s);if(q=b,h[cX]&&"apple"===h.id)try{q.user=JSON.parse(a?.user)}catch{}if(!1===h.idToken){let a=await fF(d,k,s.access_token,{[eC]:h[cW],[ez]:!0});q=await fI(d,k,b.sub,a)}}else if(j?.request){let a=await j.request({tokens:t,provider:h});a instanceof Object&&(q=a)}else if(j?.url){let a=await fF(d,k,s.access_token,{[eC]:h[cW],[ez]:!0});q=await a.json()}else throw TypeError("No userinfo endpoint configured");return t.expires_in&&(t.expires_at=Math.floor(Date.now()/1e3)+Number(t.expires_in)),{...await gN(q,h,t,g),profile:q,cookies:l}}async function gN(a,b,c,d){try{let d=await b.profile(a,c);return{user:{...d,id:crypto.randomUUID(),email:d.email?.toLowerCase()},account:{...c,provider:b.id,type:b.type,providerAccountId:d.id??crypto.randomUUID()}}}catch(c){d.debug("getProfile error details",a),d.error(new F(c,{provider:b.id}))}}function gO(a,b,c){let{user:d,exists:e=!1}=c??{};switch(a){case"authenticate":return"authenticate";case"register":if(d&&b===e)return"register";break;case void 0:if(!b)if(!d)return"authenticate";else if(e)return"authenticate";else return"register"}return null}async function gP(a,b,c,d){let e=await gU(a,b,c),{cookie:f}=await gI.create(a,e.challenge,c);return{status:200,cookies:[...d??[],f],body:{action:"register",options:e},headers:{"Content-Type":"application/json"}}}async function gQ(a,b,c,d){let e=await gT(a,b,c),{cookie:f}=await gI.create(a,e.challenge);return{status:200,cookies:[...d??[],f],body:{action:"authenticate",options:e},headers:{"Content-Type":"application/json"}}}async function gR(a,b,c){let d,{adapter:e,provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new n("Invalid WebAuthn Authentication response");let h=gY(gX(g.id)),i=await e.getAuthenticator(h);if(!i)throw new n(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:h})}`);let{challenge:j}=await gI.use(a,b.cookies,c);try{let c=f.getRelayingParty(a,b);d=await f.simpleWebAuthn.verifyAuthenticationResponse({...f.verifyAuthenticationOptions,expectedChallenge:j,response:g,authenticator:gW(i),expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new U(a)}let{verified:k,authenticationInfo:l}=d;if(!k)throw new U("WebAuthn authentication response could not be verified");try{let{newCounter:a}=l;await e.updateAuthenticatorCounter(i.credentialID,a)}catch(a){throw new p(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:h,oldCounter:i.counter,newCounter:l.newCounter})}`,a)}let m=await e.getAccount(i.providerAccountId,f.id);if(!m)throw new n(`WebAuthn account not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId})}`);let o=await e.getUser(m.userId);if(!o)throw new n(`WebAuthn user not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId,userID:m.userId})}`);return{account:m,user:o}}async function gS(a,b,c){let d,{provider:e}=a,f=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!f||"object"!=typeof f||!("id"in f)||"string"!=typeof f.id)throw new n("Invalid WebAuthn Registration response");let{challenge:g,registerData:h}=await gI.use(a,b.cookies,c);if(!h)throw new n("Missing user registration data in WebAuthn challenge cookie");try{let c=e.getRelayingParty(a,b);d=await e.simpleWebAuthn.verifyRegistrationResponse({...e.verifyRegistrationOptions,expectedChallenge:g,response:f,expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new U(a)}if(!d.verified||!d.registrationInfo)throw new U("WebAuthn registration response could not be verified");let i={providerAccountId:gY(d.registrationInfo.credentialID),provider:a.provider.id,type:e.type},j={providerAccountId:i.providerAccountId,counter:d.registrationInfo.counter,credentialID:gY(d.registrationInfo.credentialID),credentialPublicKey:gY(d.registrationInfo.credentialPublicKey),credentialBackedUp:d.registrationInfo.credentialBackedUp,credentialDeviceType:d.registrationInfo.credentialDeviceType,transports:gZ(f.response.transports)};return{user:h,account:i,authenticator:j}}async function gT(a,b,c){let{provider:d,adapter:e}=a,f=c&&c.id?await e.listAuthenticatorsByUserId(c.id):null,g=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateAuthenticationOptions({...d.authenticationOptions,rpID:g.id,allowCredentials:f?.map(a=>({id:gX(a.credentialID),type:"public-key",transports:g$(a.transports)}))})}async function gU(a,b,c){let{provider:d,adapter:e}=a,f=c.id?await e.listAuthenticatorsByUserId(c.id):null,g=cO(32),h=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateRegistrationOptions({...d.registrationOptions,userID:g,userName:c.email,userDisplayName:c.name??void 0,rpID:h.id,rpName:h.name,excludeCredentials:f?.map(a=>({id:gX(a.credentialID),type:"public-key",transports:g$(a.transports)}))})}function gV(a){let{provider:b,adapter:c}=a;if(!c)throw new z("An adapter is required for the WebAuthn provider");if(!b||"webauthn"!==b.type)throw new M("Provider must be WebAuthn");return{...a,provider:b,adapter:c}}function gW(a){return{...a,credentialDeviceType:a.credentialDeviceType,transports:g$(a.transports),credentialID:gX(a.credentialID),credentialPublicKey:gX(a.credentialPublicKey)}}function gX(a){return new Uint8Array(Buffer.from(a,"base64"))}function gY(a){return Buffer.from(a).toString("base64")}function gZ(a){return a?.join(",")}function g$(a){return a?a.split(","):void 0}async function g_(a,b,c,d){if(!b.provider)throw new M("Callback route called without provider");let{query:e,body:f,method:g,headers:h}=a,{provider:i,adapter:j,url:k,callbackUrl:l,pages:m,jwt:o,events:p,callbacks:q,session:{strategy:s,maxAge:t},logger:u}=b,w="jwt"===s;try{if("oauth"===i.type||"oidc"===i.type){let g,h=i.authorization?.url.searchParams.get("response_mode")==="form_post"?f:e;if(b.isOnRedirectProxy&&h?.state){let a=await gE.decode(h.state,b);if(a?.origin&&new URL(a.origin).origin!==b.url.origin){let b=`${a.origin}?${new URLSearchParams(h)}`;return u.debug("Proxy redirecting to",b),{redirect:b,cookies:d}}}let n=await gM(h,a.cookies,b);n.cookies.length&&d.push(...n.cookies),u.debug("authorization result",n);let{user:r,account:s,profile:v}=n;if(!r||!s||!v)return{redirect:`${k}/signin`,cookies:d};if(j){let{getUserByAccount:a}=j;g=await a({providerAccountId:s.providerAccountId,provider:i.id})}let x=await g0({user:g??r,account:s,profile:v},b);if(x)return{redirect:x,cookies:d};let{user:y,session:z,isNewUser:A}=await eu(c.value,r,s,b);if(w){let a={name:y.name,email:y.email,picture:y.image,sub:y.id?.toString()},e=await q.jwt({token:a,user:y,account:s,profile:v,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await o.encode({...o,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*t);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:z.sessionToken,options:{...b.cookies.sessionToken.options,expires:z.expires}});if(await p.signIn?.({user:y,account:s,profile:v,isNewUser:A}),A&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("email"===i.type){let a=e?.token,f=e?.email;if(!a){let b=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!a}});throw b.name="Configuration",b}let g=i.secret??b.secret,h=await j.useVerificationToken({identifier:f,token:await cN(`${a}${g}`)}),k=!!h,n=k&&h.expires.valueOf()<Date.now();if(!k||n||f&&h.identifier!==f)throw new O({hasInvite:k,expired:n});let{identifier:r}=h,s=await j.getUserByEmail(r)??{id:crypto.randomUUID(),email:r,emailVerified:null},u={providerAccountId:s.email,userId:s.id,type:"email",provider:i.id},v=await g0({user:s,account:u},b);if(v)return{redirect:v,cookies:d};let{user:x,session:y,isNewUser:z}=await eu(c.value,s,u,b);if(w){let a={name:x.name,email:x.email,picture:x.image,sub:x.id?.toString()},e=await q.jwt({token:a,user:x,account:u,isNewUser:z,trigger:z?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await o.encode({...o,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*t);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:y.sessionToken,options:{...b.cookies.sessionToken.options,expires:y.expires}});if(await p.signIn?.({user:x,account:u,isNewUser:z}),z&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("credentials"===i.type&&"POST"===g){let a=f??{};Object.entries(e??{}).forEach(([a,b])=>k.searchParams.set(a,b));let j=await i.authorize(a,new Request(k,{headers:h,method:g,body:JSON.stringify(f)}));if(j)j.id=j.id?.toString()??crypto.randomUUID();else throw new v;let m={providerAccountId:j.id,type:"credentials",provider:i.id},n=await g0({user:j,account:m,credentials:a},b);if(n)return{redirect:n,cookies:d};let r={name:j.name,email:j.email,picture:j.image,sub:j.id},s=await q.jwt({token:r,user:j,account:m,isNewUser:!1,trigger:"signIn"});if(null===s)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,e=await o.encode({...o,token:s,salt:a}),f=new Date;f.setTime(f.getTime()+1e3*t);let g=c.chunk(e,{expires:f});d.push(...g)}return await p.signIn?.({user:j,account:m}),{redirect:l,cookies:d}}else if("webauthn"===i.type&&"POST"===g){let e,f,g,h=a.body?.action;if("string"!=typeof h||"authenticate"!==h&&"register"!==h)throw new n("Invalid action parameter");let i=gV(b);switch(h){case"authenticate":{let b=await gR(i,a,d);e=b.user,f=b.account;break}case"register":{let c=await gS(b,a,d);e=c.user,f=c.account,g=c.authenticator}}await g0({user:e,account:f},b);let{user:j,isNewUser:k,session:r,account:s}=await eu(c.value,e,f,b);if(!s)throw new n("Error creating or finding account");if(g&&j.id&&await i.adapter.createAuthenticator({...g,userId:j.id}),w){let a={name:j.name,email:j.email,picture:j.image,sub:j.id?.toString()},e=await q.jwt({token:a,user:j,account:s,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await o.encode({...o,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*t);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:r.sessionToken,options:{...b.cookies.sessionToken.options,expires:r.expires}});if(await p.signIn?.({user:j,account:s,isNewUser:k}),k&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}throw new M(`Callback for provider type (${i.type}) is not supported`)}catch(b){if(b instanceof n)throw b;let a=new r(b,{provider:i.id});throw u.debug("callback route error details",{method:g,query:e,body:f}),a}}async function g0(a,b){let c,{signIn:d,redirect:e}=b.callbacks;try{c=await d(a)}catch(a){if(a instanceof n)throw a;throw new q(a)}if(!c)throw new q("AccessDenied");if("string"==typeof c)return await e({url:c,baseUrl:b.url.origin})}async function g1(a,b,c,d,e){let{adapter:f,jwt:g,events:h,callbacks:i,logger:j,session:{strategy:k,maxAge:l}}=a,m={body:null,headers:{"Content-Type":"application/json",...!d&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:c},n=b.value;if(!n)return m;if("jwt"===k){try{let c=a.cookies.sessionToken.name,f=await g.decode({...g,token:n,salt:c});if(!f)throw Error("Invalid JWT");let j=await i.jwt({token:f,...d&&{trigger:"update"},session:e}),k=et(l);if(null!==j){let a={user:{name:j.name,email:j.email,image:j.picture},expires:k.toISOString()},d=await i.session({session:a,token:j});m.body=d;let e=await g.encode({...g,token:j,salt:c}),f=b.chunk(e,{expires:k});m.cookies?.push(...f),await h.session?.({session:d,token:j})}else m.cookies?.push(...b.clean())}catch(a){j.error(new y(a)),m.cookies?.push(...b.clean())}return m}try{let{getSessionAndUser:c,deleteSession:g,updateSession:j}=f,k=await c(n);if(k&&k.session.expires.valueOf()<Date.now()&&(await g(n),k=null),k){let{user:b,session:c}=k,f=a.session.updateAge,g=c.expires.valueOf()-1e3*l+1e3*f,o=et(l);g<=Date.now()&&await j({sessionToken:n,expires:o});let p=await i.session({session:{...c,user:b},user:b,newSession:e,...d?{trigger:"update"}:{}});m.body=p,m.cookies?.push({name:a.cookies.sessionToken.name,value:n,options:{...a.cookies.sessionToken.options,expires:o}}),await h.session?.({session:p})}else n&&m.cookies?.push(...b.clean())}catch(a){j.error(new G(a))}return m}async function g2(a,b){let c,d,{logger:e,provider:f}=b,g=f.authorization?.url;if(!g||"authjs.dev"===g.host){let a=new URL(f.issuer),b=await eV(a,{[eC]:f[cW],[ez]:!0}),c=await eY(a,b).catch(b=>{if(!(b instanceof TypeError)||"Invalid URL"!==b.message)throw b;throw TypeError(`Discovery request responded with an invalid issuer. expected: ${a}`)});if(!c.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");g=new URL(c.authorization_endpoint)}let h=g.searchParams,i=f.callbackUrl;!b.isOnRedirectProxy&&f.redirectProxyUrl&&(i=f.redirectProxyUrl,d=f.callbackUrl,e.debug("using redirect proxy",{redirect_uri:i,data:d}));let j=Object.assign({response_type:"code",client_id:f.clientId,redirect_uri:i,...f.authorization?.params},Object.fromEntries(f.authorization?.url.searchParams??[]),a);for(let a in j)h.set(a,j[a]);let k=[];f.authorization?.url.searchParams.get("response_mode")==="form_post"&&(b.cookies.state.options.sameSite="none",b.cookies.state.options.secure=!0,b.cookies.nonce.options.sameSite="none",b.cookies.nonce.options.secure=!0);let l=await gE.create(b,d);if(l&&(h.set("state",l.value),k.push(l.cookie)),f.checks?.includes("pkce"))if(c&&!c.code_challenge_methods_supported?.includes("S256"))"oidc"===f.type&&(f.checks=["nonce"]);else{let{value:a,cookie:c}=await gB.create(b);h.set("code_challenge",a),h.set("code_challenge_method","S256"),k.push(c)}let m=await gF.create(b);return m&&(h.set("nonce",m.value),k.push(m.cookie)),"oidc"!==f.type||g.searchParams.has("scope")||g.searchParams.set("scope","openid profile email"),e.debug("authorization url is ready",{url:g,cookies:k,provider:f}),{redirect:g.toString(),cookies:k}}async function g3(a,b){let c,{body:d}=a,{provider:e,callbacks:f,adapter:g}=b,h=(e.normalizeIdentifier??g4)(d?.email),i={id:crypto.randomUUID(),email:h,emailVerified:null},j=await g.getUserByEmail(h)??i,k={providerAccountId:h,userId:j.id,type:"email",provider:e.id};try{c=await f.signIn({user:j,account:k,email:{verificationRequest:!0}})}catch(a){throw new q(a)}if(!c)throw new q("AccessDenied");if("string"==typeof c)return{redirect:await f.redirect({url:c,baseUrl:b.url.origin})};let{callbackUrl:l,theme:m}=b,n=await e.generateVerificationToken?.()??cO(32),o=86400,p=new Date(Date.now()+(e.maxAge??o)*1e3),r=e.secret??b.secret,s=new URL(b.basePath,b.url.origin),t=e.sendVerificationRequest({identifier:h,token:n,expires:p,url:`${s}/callback/${e.id}?${new URLSearchParams({callbackUrl:l,token:n,email:h})}`,provider:e,theme:m,request:cL(a)}),u=g.createVerificationToken?.({identifier:h,token:await cN(`${n}${r}`),expires:p});return await Promise.all([t,u]),{redirect:`${s}/verify-request?${new URLSearchParams({provider:e.id,type:e.type})}`}}function g4(a){if(!a)throw Error("Missing email from request body.");let[b,c]=a.toLowerCase().trim().split("@");return c=c.split(",")[0],`${b}@${c}`}async function g5(a,b,c){let d=`${c.url.origin}${c.basePath}/signin`;if(!c.provider)return{redirect:d,cookies:b};switch(c.provider.type){case"oauth":case"oidc":{let{redirect:d,cookies:e}=await g2(a.query,c);return e&&b.push(...e),{redirect:d,cookies:b}}case"email":return{...await g3(a,c),cookies:b};default:return{redirect:d,cookies:b}}}async function g6(a,b,c){let{jwt:d,events:e,callbackUrl:f,logger:g,session:h}=c,i=b.value;if(!i)return{redirect:f,cookies:a};try{if("jwt"===h.strategy){let a=c.cookies.sessionToken.name,b=await d.decode({...d,token:i,salt:a});await e.signOut?.({token:b})}else{let a=await c.adapter?.deleteSession(i);await e.signOut?.({session:a})}}catch(a){g.error(new J(a))}return a.push(...b.clean()),{redirect:f,cookies:a}}async function g7(a,b){let{adapter:c,jwt:d,session:{strategy:e}}=a,f=b.value;if(!f)return null;if("jwt"===e){let b=a.cookies.sessionToken.name,c=await d.decode({...d,token:f,salt:b});if(c&&c.sub)return{id:c.sub,name:c.name,email:c.email,image:c.picture}}else{let a=await c?.getSessionAndUser(f);if(a)return a.user}return null}async function g8(a,b,c,d){let e=gV(b),{provider:f}=e,{action:g}=a.query??{};if("register"!==g&&"authenticate"!==g&&void 0!==g)return{status:400,body:{error:"Invalid action"},cookies:d,headers:{"Content-Type":"application/json"}};let h=await g7(b,c),i=h?{user:h,exists:!0}:await f.getUserInfo(b,a),j=i?.user;switch(gO(g,!!h,i)){case"authenticate":return gQ(e,a,j,d);case"register":if("string"==typeof j?.email)return gP(e,a,j,d);break;default:return{status:400,body:{error:"Invalid request"},cookies:d,headers:{"Content-Type":"application/json"}}}}async function g9(a,b){let{action:c,providerId:d,error:e,method:f}=a,g=b.skipCSRFCheck===cU,{options:h,cookies:i}=await c4({authOptions:b,action:c,providerId:d,url:a.url,callbackUrl:a.body?.callbackUrl??a.query?.callbackUrl,csrfToken:a.body?.csrfToken,cookies:a.cookies,isPost:"POST"===f,csrfDisabled:g}),j=new m(h.cookies.sessionToken,a.cookies,h.logger);if("GET"===f){let b=es({...h,query:a.query,cookies:i});switch(c){case"callback":return await g_(a,h,j,i);case"csrf":return b.csrf(g,h,i);case"error":return b.error(e);case"providers":return b.providers(h.providers);case"session":return await g1(h,j,i);case"signin":return b.signin(d,e);case"signout":return b.signout();case"verify-request":return b.verifyRequest();case"webauthn-options":return await g8(a,h,j,i)}}else{let{csrfTokenVerified:b}=h;switch(c){case"callback":return"credentials"===h.provider.type&&cR(c,b),await g_(a,h,j,i);case"session":return cR(c,b),await g1(h,j,i,!0,a.body?.data);case"signin":return cR(c,b),await g5(a,i,h);case"signout":return cR(c,b),await g6(i,j,h)}}throw new K(`Cannot handle action: ${c}`)}function ha(a,b,c=!1){try{let d=a.AUTH_URL;d&&(b.basePath?c||cE(b).warn("env-url-basepath-redundant"):b.basePath=new URL(d).pathname)}catch{}finally{b.basePath??(b.basePath="/auth")}if(!b.secret?.length){b.secret=[];let c=a.AUTH_SECRET;for(let d of(c&&b.secret.push(c),[1,2,3])){let c=a[`AUTH_SECRET_${d}`];c&&b.secret.unshift(c)}}b.redirectProxyUrl??(b.redirectProxyUrl=a.AUTH_REDIRECT_PROXY_URL),b.trustHost??(b.trustHost=!!(a.AUTH_URL??a.AUTH_TRUST_HOST??a.VERCEL??a.CF_PAGES??"production"!==a.NODE_ENV)),b.providers=b.providers.map(b=>{let{id:c}="function"==typeof b?b({}):b,d=c.toUpperCase().replace(/-/g,"_"),e=a[`AUTH_${d}_ID`],f=a[`AUTH_${d}_SECRET`],g=a[`AUTH_${d}_ISSUER`],h=a[`AUTH_${d}_KEY`],i="function"==typeof b?b({clientId:e,clientSecret:f,issuer:g,apiKey:h}):b;return"oauth"===i.type||"oidc"===i.type?(i.clientId??(i.clientId=e),i.clientSecret??(i.clientSecret=f),i.issuer??(i.issuer=g)):"email"===i.type&&(i.apiKey??(i.apiKey=h)),i})}function hb(a,b,c,d,e){let f,g=e?.basePath,h=d.AUTH_URL??d.NEXTAUTH_URL;if(h)f=new URL(h),g&&"/"!==g&&"/"!==f.pathname&&(f.pathname!==g&&cE(e).warn("env-url-basepath-mismatch"),f.pathname="/");else{let a=c.get("x-forwarded-host")??c.get("host"),d=c.get("x-forwarded-proto")??b??"https",e=d.endsWith(":")?d:d+":";f=new URL(`${e}//${a}`)}let i=f.toString().replace(/\/$/,"");if(g){let b=g?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${i}/${b}/${a}`)}return new URL(`${i}/${a}`)}async function hc(a,b){let c=cE(b),d=await cK(a,b);if(!d)return Response.json("Bad request.",{status:400});let e=ae(d,b);if(Array.isArray(e))e.forEach(c.warn);else if(e){if(c.error(e),!new Set(["signin","signout","error","verify-request"]).has(d.action)||"GET"!==d.method){let a="There was a problem with the server configuration. Check the server logs for more information.";return Response.json({message:a},{status:500})}let{pages:a,theme:f}=b,g=a?.error&&d.url.searchParams.get("callbackUrl")?.startsWith(a.error);if(!a?.error||g)return g&&c.error(new s(`The error page ${a?.error} should not require authentication`)),cM(es({theme:f}).error("Configuration"));let h=`${d.url.origin}${a.error}?error=Configuration`;return Response.redirect(h)}let f=a.headers?.has("X-Auth-Return-Redirect"),g=b.raw===cV;try{let a=await g9(d,b);if(g)return a;let c=cM(a),e=c.headers.get("Location");if(!f||!e)return c;return Response.json({url:e},{headers:c.headers})}catch(m){let e=m;c.error(e);let h=e instanceof n;if(h&&g&&!f)throw e;if("POST"===a.method&&"session"===d.action)return Response.json(null,{status:400});let i=new URLSearchParams({error:R(e)?e.type:"Configuration"});e instanceof v&&i.set("code",e.code);let j=h&&e.kind||"error",k=b.pages?.[j]??`${b.basePath}/${j.toLowerCase()}`,l=`${d.url.origin}${k}?${i}`;if(f)return Response.json({url:l});return Response.redirect(l)}}a.s(["createActionURL",()=>hb,"setEnvDefaults",()=>ha],87987),a.s(["Auth",()=>hc],12267);var hd=a.i(43405);function he(a){let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return a;let{origin:c}=new URL(b),{href:d,origin:e}=a.nextUrl;return new hd.NextRequest(d.replace(e,c),a)}function hf(a){try{a.secret??(a.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return;let{pathname:c}=new URL(b);if("/"===c)return;a.basePath||(a.basePath=c)}catch{}finally{a.basePath||(a.basePath="/api/auth"),ha(process.env,a,!0)}}a.s(["reqWithEnvURL",()=>he,"setEnvDefaults",()=>hf],26851);var hg=a.i(5246),hh=hd;async function hi(a,b){return hc(new Request(hb("session",a.get("x-forwarded-proto"),a,process.env,b),{headers:{cookie:a.get("cookie")??""}}),{...b,callbacks:{...b.callbacks,async session(...a){let c=await b.callbacks?.session?.(...a)??{...a[0].session,expires:a[0].session.expires?.toISOString?.()??a[0].session.expires};return{user:a[0].user??a[0].token,...c}}}})}function hj(a){return"function"==typeof a}function hk(a,b){return"function"==typeof a?async(...c)=>{if(!c.length){let c=await (0,hg.headers)(),d=await a(void 0);return b?.(d),hi(c,d).then(a=>a.json())}if(c[0]instanceof Request){let d=c[0],e=c[1],f=await a(d);return b?.(f),hl([d,e],f)}if(hj(c[0])){let d=c[0];return async(...c)=>{let e=await a(c[0]);return b?.(e),hl(c,e,d)}}let d="req"in c[0]?c[0].req:c[0],e="res"in c[0]?c[0].res:c[1],f=await a(d);return b?.(f),hi(new Headers(d.headers),f).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in e?e.headers.append("set-cookie",b):e.appendHeader("set-cookie",b);return b})}:(...b)=>{if(!b.length)return Promise.resolve((0,hg.headers)()).then(b=>hi(b,a).then(a=>a.json()));if(b[0]instanceof Request)return hl([b[0],b[1]],a);if(hj(b[0])){let c=b[0];return async(...b)=>hl(b,a,c).then(a=>a)}let c="req"in b[0]?b[0].req:b[0],d="res"in b[0]?b[0].res:b[1];return hi(new Headers(c.headers),a).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in d?d.headers.append("set-cookie",b):d.appendHeader("set-cookie",b);return b})}}async function hl(a,b,c){let d=he(a[0]),e=await hi(d.headers,b),f=await e.json(),g=!0;b.callbacks?.authorized&&(g=await b.callbacks.authorized({request:d,auth:f}));let h=hh.NextResponse.next?.();if(g instanceof Response){h=g;let a=g.headers.get("Location"),{pathname:c}=d.nextUrl;a&&hm(c,new URL(a).pathname,b)&&(g=!0)}else if(c){let b=d;b.auth=f,h=await c(b,a[1])??hh.NextResponse.next()}else if(!g){let a=b.pages?.signIn??`${b.basePath}/signin`;if(d.nextUrl.pathname!==a){let b=d.nextUrl.clone();b.pathname=a,b.searchParams.set("callbackUrl",d.nextUrl.href),h=hh.NextResponse.redirect(b)}}let i=new Response(h?.body,h);for(let a of e.headers.getSetCookie())i.headers.append("set-cookie",a);return i}function hm(a,b,c){let d=b.replace(`${a}/`,""),e=Object.values(c.pages??{});return(hn.has(d)||e.includes(b))&&b===a}let hn=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);a.s(["initAuth",()=>hk],52917)},20916,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return e}});class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class e extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},21170,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"RedirectStatusCode",{enumerable:!0,get:function(){return d}});var d=function(a){return a[a.SeeOther=303]="SeeOther",a[a.TemporaryRedirect=307]="TemporaryRedirect",a[a.PermanentRedirect=308]="PermanentRedirect",a}({});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},28859,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{REDIRECT_ERROR_CODE:function(){return e},RedirectType:function(){return f},isRedirectError:function(){return g}});let d=a.r(21170),e="NEXT_REDIRECT";var f=function(a){return a.push="push",a.replace="replace",a}({});function g(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let b=a.digest.split(";"),[c,f]=b,g=b.slice(2,-2).join(";"),h=Number(b.at(-2));return c===e&&("replace"===f||"push"===f)&&"string"==typeof g&&!isNaN(h)&&h in d.RedirectStatusCode}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},44868,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{getRedirectError:function(){return g},getRedirectStatusCodeFromError:function(){return l},getRedirectTypeFromError:function(){return k},getURLFromRedirectError:function(){return j},permanentRedirect:function(){return i},redirect:function(){return h}});let d=a.r(21170),e=a.r(28859),f=a.r(20635).actionAsyncStorage;function g(a,b,c=d.RedirectStatusCode.TemporaryRedirect){let f=Object.defineProperty(Error(e.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return f.digest=`${e.REDIRECT_ERROR_CODE};${b};${a};${c};`,f}function h(a,b){throw g(a,b??=f?.getStore()?.isAction?e.RedirectType.push:e.RedirectType.replace,d.RedirectStatusCode.TemporaryRedirect)}function i(a,b=e.RedirectType.replace){throw g(a,b,d.RedirectStatusCode.PermanentRedirect)}function j(a){return(0,e.isRedirectError)(a)?a.digest.split(";").slice(2,-2).join(";"):null}function k(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return a.digest.split(";",2)[1]}function l(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(a.digest.split(";").at(-2))}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},89798,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{HTTPAccessErrorStatus:function(){return d},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return f},getAccessFallbackErrorTypeByStatus:function(){return i},getAccessFallbackHTTPStatus:function(){return h},isHTTPAccessFallbackError:function(){return g}});let d={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},e=new Set(Object.values(d)),f="NEXT_HTTP_ERROR_FALLBACK";function g(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let[b,c]=a.digest.split(";");return b===f&&e.has(Number(c))}function h(a){return Number(a.digest.split(";")[1])}function i(a){switch(a){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},16155,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"notFound",{enumerable:!0,get:function(){return f}});let d=a.r(89798),e=`${d.HTTP_ERROR_FALLBACK_ERROR_CODE};404`;function f(){let a=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw a.digest=e,a}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},34557,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"forbidden",{enumerable:!0,get:function(){return d}}),a.r(89798).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},93845,(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unauthorized",{enumerable:!0,get:function(){return d}}),a.r(89798).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},73808,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isPostpone",{enumerable:!0,get:function(){return e}});let d=Symbol.for("react.postpone");function e(a){return"object"==typeof a&&null!==a&&a.$$typeof===d}},1567,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isNextRouterError",{enumerable:!0,get:function(){return f}});let d=a.r(89798),e=a.r(28859);function f(a){return(0,e.isRedirectError)(a)||(0,d.isHTTPAccessFallbackError)(a)}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},94783,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unstable_rethrow",{enumerable:!0,get:function(){return j}});let d=a.r(13091),e=a.r(73808),f=a.r(49640),g=a.r(1567),h=a.r(60384),i=a.r(96556);function j(a){if((0,g.isNextRouterError)(a)||(0,f.isBailoutToCSRError)(a)||(0,i.isDynamicServerError)(a)||(0,h.isDynamicPostpone)(a)||(0,e.isPostpone)(a)||(0,d.isHangingPromiseRejectionError)(a)||(0,h.isPrerenderInterruptedError)(a))throw a;a instanceof Error&&"cause"in a&&j(a.cause)}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},60968,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"unstable_rethrow",{enumerable:!0,get:function(){return d}});let d=a.r(94783).unstable_rethrow;("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},73727,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{ReadonlyURLSearchParams:function(){return d.ReadonlyURLSearchParams},RedirectType:function(){return f.RedirectType},forbidden:function(){return h.forbidden},notFound:function(){return g.notFound},permanentRedirect:function(){return e.permanentRedirect},redirect:function(){return e.redirect},unauthorized:function(){return i.unauthorized},unstable_isUnrecognizedActionError:function(){return k},unstable_rethrow:function(){return j.unstable_rethrow}});let d=a.r(20916),e=a.r(44868),f=a.r(28859),g=a.r(16155),h=a.r(34557),i=a.r(93845),j=a.r(60968);function k(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},70396,a=>{"use strict";a.i(73727),a.s([])},40522,a=>{"use strict";var b=a.i(12267),c=a.i(88611),d=a.i(26851),e=a.i(52917),f=b,g=c,h=a.i(87987),i=a.i(5246);a.i(70396);var j=a.i(73727);async function k(a,b={},c,d){let e=new Headers(await (0,i.headers)()),{redirect:l=!0,redirectTo:m,...n}=b instanceof FormData?Object.fromEntries(b):b,o=m?.toString()??e.get("Referer")??"/",p=(0,h.createActionURL)("signin",e.get("x-forwarded-proto"),e,process.env,d);if(!a)return p.searchParams.append("callbackUrl",o),l&&(0,j.redirect)(p.toString()),p.toString();let q=`${p}/${a}?${new URLSearchParams(c)}`,r={};for(let b of d.providers){let{options:c,...d}="function"==typeof b?b():b,e=c?.id??d.id;if(e===a){r={id:e,type:c?.type??d.type};break}}if(!r.id){let a=`${p}?${new URLSearchParams({callbackUrl:o})}`;return l&&(0,j.redirect)(a),a}"credentials"===r.type&&(q=q.replace("signin","callback")),e.set("Content-Type","application/x-www-form-urlencoded");let s=new Request(q,{method:"POST",headers:e,body:new URLSearchParams({...n,callbackUrl:o})}),t=await (0,f.Auth)(s,{...d,raw:g.raw,skipCSRFCheck:g.skipCSRFCheck}),u=await (0,i.cookies)();for(let a of t?.cookies??[])u.set(a.name,a.value,a.options);let v=(t instanceof Response?t.headers.get("Location"):t.redirect)??q;return l?(0,j.redirect)(v):v}async function l(a,b){let c=new Headers(await (0,i.headers)());c.set("Content-Type","application/x-www-form-urlencoded");let d=(0,h.createActionURL)("signout",c.get("x-forwarded-proto"),c,process.env,b),e=new URLSearchParams({callbackUrl:a?.redirectTo??c.get("Referer")??"/"}),k=new Request(d,{method:"POST",headers:c,body:e}),l=await (0,f.Auth)(k,{...b,raw:g.raw,skipCSRFCheck:g.skipCSRFCheck}),m=await (0,i.cookies)();for(let a of l?.cookies??[])m.set(a.name,a.value,a.options);return a?.redirect??!0?(0,j.redirect)(l.redirect):l}async function m(a,b){let c=new Headers(await (0,i.headers)());c.set("Content-Type","application/json");let d=new Request((0,h.createActionURL)("session",c.get("x-forwarded-proto"),c,process.env,b),{method:"POST",headers:c,body:JSON.stringify({data:a})}),e=await (0,f.Auth)(d,{...b,raw:g.raw,skipCSRFCheck:g.skipCSRFCheck}),j=await (0,i.cookies)();for(let a of e?.cookies??[])j.set(a.name,a.value,a.options);return e.body}function n(a){if("function"==typeof a){let c=async c=>{let e=await a(c);return(0,d.setEnvDefaults)(e),(0,b.Auth)((0,d.reqWithEnvURL)(c),e)};return{handlers:{GET:c,POST:c},auth:(0,e.initAuth)(a,a=>(0,d.setEnvDefaults)(a)),signIn:async(b,c,e)=>{let f=await a(void 0);return(0,d.setEnvDefaults)(f),k(b,c,e,f)},signOut:async b=>{let c=await a(void 0);return(0,d.setEnvDefaults)(c),l(b,c)},unstable_update:async b=>{let c=await a(void 0);return(0,d.setEnvDefaults)(c),m(b,c)}}}(0,d.setEnvDefaults)(a);let c=c=>(0,b.Auth)((0,d.reqWithEnvURL)(c),a);return{handlers:{GET:c,POST:c},auth:(0,e.initAuth)(a),signIn:(b,c,d)=>k(b,c,d,a),signOut:b=>l(b,a),unstable_update:b=>m(b,a)}}a.i(77419),a.s(["default",()=>n],40522)},59291,a=>{"use strict";function b(a){let b=a;return{createUser:({id:a,...d})=>b.user.create(c(d)),getUser:a=>b.user.findUnique({where:{id:a}}),getUserByEmail:a=>b.user.findUnique({where:{email:a}}),async getUserByAccount(a){let c=await b.account.findUnique({where:{provider_providerAccountId:a},include:{user:!0}});return c?.user??null},updateUser:({id:a,...d})=>b.user.update({where:{id:a},...c(d)}),deleteUser:a=>b.user.delete({where:{id:a}}),linkAccount:a=>b.account.create({data:a}),unlinkAccount:a=>b.account.delete({where:{provider_providerAccountId:a}}),async getSessionAndUser(a){let c=await b.session.findUnique({where:{sessionToken:a},include:{user:!0}});if(!c)return null;let{user:d,...e}=c;return{user:d,session:e}},createSession:a=>b.session.create(c(a)),updateSession:a=>b.session.update({where:{sessionToken:a.sessionToken},...c(a)}),deleteSession:a=>b.session.delete({where:{sessionToken:a}}),async createVerificationToken(a){let d=await b.verificationToken.create(c(a));return"id"in d&&d.id&&delete d.id,d},async useVerificationToken(a){try{let c=await b.verificationToken.delete({where:{identifier_token:a}});return"id"in c&&c.id&&delete c.id,c}catch(a){if(a&&"object"==typeof a&&"code"in a&&"P2025"===a.code)return null;throw a}},getAccount:async(a,c)=>b.account.findFirst({where:{providerAccountId:a,provider:c}}),createAuthenticator:async a=>b.authenticator.create(c(a)),getAuthenticator:async a=>b.authenticator.findUnique({where:{credentialID:a}}),listAuthenticatorsByUserId:async a=>b.authenticator.findMany({where:{userId:a}}),updateAuthenticatorCounter:async(a,c)=>b.authenticator.update({where:{credentialID:a},data:{counter:c}})}}function c(a){let b={};for(let c in a)void 0!==a[c]&&(b[c]=a[c]);return{data:b}}a.s(["PrismaAdapter",()=>b])},83479,31191,__turbopack_context__=>{"use strict";var __TURBOPACK__imported__module__54799__=__turbopack_context__.i(54799),__TURBOPACK__imported__module__59291__=__turbopack_context__.i(59291),__TURBOPACK__imported__module__40522__=__turbopack_context__.i(40522),__TURBOPACK__imported__module__77419__=__turbopack_context__.i(77419);function Credentials(a){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:a}}var __TURBOPACK__imported__module__69581__=__turbopack_context__.i(69581),__TURBOPACK__imported__module__69581__1=__TURBOPACK__imported__module__69581__,__TURBOPACK__imported__module__63021__=__turbopack_context__.i(63021);let prisma=globalThis.prisma??new __TURBOPACK__imported__module__63021__.PrismaClient,__TURBOPACK__default__export__=prisma;__turbopack_context__.s(["default",0,__TURBOPACK__default__export__],31191);let attempts=new Map,WINDOW_MS=9e5,MAX_ATTEMPTS=5;function pruneExpiredEntries(a){for(let[b,c]of attempts.entries())c.resetAt<=a&&attempts.delete(b)}function registerLoginAttempt(a){let b=Date.now();pruneExpiredEntries(b);let c=attempts.get(a);return!c||c.resetAt<=b?(attempts.set(a,{count:1,resetAt:b+WINDOW_MS}),{allowed:!0,remaining:MAX_ATTEMPTS-1}):c.count>=MAX_ATTEMPTS?{allowed:!1,remaining:0}:(c.count+=1,attempts.set(a,c),{allowed:!0,remaining:MAX_ATTEMPTS-c.count})}function clearLoginAttempts(a){attempts.delete(a)}class InvalidCredentialsError extends __TURBOPACK__imported__module__77419__.CredentialsSignin{code="invalid_credentials"}class RateLimitedLoginError extends __TURBOPACK__imported__module__77419__.CredentialsSignin{code="rate_limited"}class DisabledAccountError extends __TURBOPACK__imported__module__77419__.CredentialsSignin{code="disabled"}function getClientAddress(a){let b=a.get("x-forwarded-for");return b?b.split(",")[0]?.trim()??"unknown":a.get("x-real-ip")??"unknown"}function getLoginRateLimitKey(a,b){return`${a}:${getClientAddress(b)}`}function buildSessionCookieName(){return"__Secure-authjs.session-token"}function loadArgon2(){return eval("require")("argon2")}let{handlers,auth,signIn,signOut}=(0,__TURBOPACK__imported__module__40522__.default)({adapter:(0,__TURBOPACK__imported__module__59291__.PrismaAdapter)(__TURBOPACK__default__export__),pages:{signIn:"/login"},session:{strategy:"database"},trustHost:"true"===process.env.AUTH_TRUST_HOST,useSecureCookies:!0,cookies:{sessionToken:{name:buildSessionCookieName(),options:{httpOnly:!0,sameSite:"lax",path:"/",secure:!0}}},jwt:{async encode(a){if(!a.token?.sub)return(0,__TURBOPACK__imported__module__69581__1.encode)(a);let b=(0,__TURBOPACK__imported__module__54799__.randomUUID)(),c=new Date(Date.now()+(a.maxAge??2592e3)*1e3);return await __TURBOPACK__default__export__.session.create({data:{sessionToken:b,userId:a.token.sub,expires:c}}),b},decode:__TURBOPACK__imported__module__69581__1.decode},providers:[Credentials({credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(a,b){let c=String(a.email??"").trim().toLowerCase(),d=String(a.password??"");if(!c||!d)throw new InvalidCredentialsError;let e=getLoginRateLimitKey(c,b.headers);if(!registerLoginAttempt(e).allowed)throw new RateLimitedLoginError;let f=await __TURBOPACK__default__export__.user.findUnique({where:{email:c},select:{id:!0,email:!0,name:!0,passwordHash:!0,role:!0,isActive:!0}});if(!f||!f.passwordHash)throw new InvalidCredentialsError;if(!f.isActive)throw new DisabledAccountError;let g=loadArgon2();if(!await g.verify(f.passwordHash,d))throw new InvalidCredentialsError;return clearLoginAttempts(e),{id:f.id,email:f.email,name:f.name,role:f.role}}})],callbacks:{async session({session:a,user:b}){let c=a;return c.user&&(c.user.id=b.id,c.user.role=b.role),c},async signIn({user:a}){if(!a.id)return!1;let b=await __TURBOPACK__default__export__.user.findUnique({where:{id:a.id},select:{isActive:!0}});return!!b?.isActive}}});__turbopack_context__.s(["auth",0,auth,"signIn",0,signIn,"signOut",0,signOut],83479)}];

//# sourceMappingURL=_56ebb753._.js.map